/*! For license information please see main.bc2c8a97.chunk.js.LICENSE.txt */
(this["webpackJsonpmuse-ant-design-dashboard"]=this["webpackJsonpmuse-ant-design-dashboard"]||[]).push([[0],{466:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(36),r=a.n(c),n=a(16),l=a(52),i=a(474),d=a(158),o=a(470),j=a(479),b=a(480),h=a(147),m=a(196),u=a(478),O=a(63),x=a(471),p=a(258),g=a.n(p),y=a(111),v=a(81),f=a(490),S=a(491),w=a(157),N=(a(281),a(282),a(283),a(1));v.c.register(...v.j);const{RangePicker:k}=i.a,{Option:I}=d.a,C={userCount:100,driverCount:150,tripCount:200,passngerCount:250},D={Drivers:[{date:"2023-01-01",count:5},{date:"2023-02-01",count:10}],Passengers:[{date:"2023-01-01",count:15},{date:"2023-02-01",count:20}],Trips:[{date:"2023-01-01",count:25},{date:"2023-02-01",count:30}]},P={"2023-01":[{date:"2023-01-01",client:"Client A",count:5},{date:"2023-01-15",client:"Client B",count:10}],"2023-02":[{date:"2023-02-01",client:"Client A",count:15},{date:"2023-02-15",client:"Client B",count:20}]},F={"2023-01":[{date:"2023-01-01",teamName:"Team A",count:5},{date:"2023-01-15",teamName:"Team B",count:10}],"2023-02":[{date:"2023-02-01",teamName:"Team A",count:15},{date:"2023-02-15",teamName:"Team B",count:20}]},T={"2023-01":[{date:"2023-01-01",firstName:"John",count:5},{date:"2023-01-15",firstName:"Doe",count:10}],"2023-02":[{date:"2023-02-01",firstName:"John",count:15},{date:"2023-02-15",firstName:"Doe",count:20}]},E=[{No:1,Client:"Client A",NoofPassengersubmitted:5,AverageValue:100},{No:2,Client:"Client B",NoofPassengersubmitted:10,AverageValue:200}],A=150,L=e=>{let{title:t,dataKey:a,data:c,memoizedGetChartData:r}=e;const[n,l]=Object(s.useState)("Bar"),[i,u]=Object(s.useState)(!1),[O,x]=Object(s.useState)(!0),[p,v]=Object(s.useState)(!0),[S,C]=Object(s.useState)("excel");let D;switch(n){case"Line":D=y.c;break;case"Pie":D=y.d;break;case"Doughnut":D=y.b;break;default:D=y.a}return Object(N.jsxs)(o.a,{xs:24,sm:24,md:12,lg:12,xl:10,className:"mb-24",children:[Object(N.jsx)(j.a,{bordered:!1,className:"criclebox h-full",children:Object(N.jsxs)("div",{id:"div-".concat(a),children:[Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(N.jsx)("h2",{children:t}),Object(N.jsxs)("div",{children:[Object(N.jsx)(k,{}),Object(N.jsxs)(d.a,{defaultValue:"Bar",style:{width:100,marginLeft:10},onChange:e=>{l(e)},children:[Object(N.jsx)(I,{value:"Bar",children:"Bar"}),Object(N.jsx)(I,{value:"Line",children:"Line"}),Object(N.jsx)(I,{value:"Pie",children:"Pie"}),Object(N.jsx)(I,{value:"Doughnut",children:"Doughnut"})]}),Object(N.jsx)(f.a,{className:"export-icon",style:{marginLeft:10},onClick:()=>u(!0)})]})]}),c&&Object(N.jsx)(D,{data:r(c),options:{maintainAspectRatio:!0}})]})}),Object(N.jsxs)(b.a,{title:"Export Options",visible:i,onCancel:()=>u(!1),onOk:()=>{switch(u(!1),S){case"excel":(()=>{const e=c.map((e=>[e.date,e.count])),t=w.a.book_new(),a=w.a.aoa_to_sheet([["Date","Count"],...e]);w.a.book_append_sheet(t,a,"Sheet1"),w.b(t,"data.xlsx")})();break;case"word":(()=>{let e="<table><thead><tr><th>Date</th><th>Count</th></tr></thead><tbody>";c.forEach((t=>{e+="<tr><td>".concat(t.date,"</td><td>").concat(t.count,"</td></tr>")})),e+="</tbody></table>";const t=new Blob(['<!DOCTYPE html><html><head><meta charset="UTF-8"></head><body>'+e+"</body></html>"],{type:"text/html"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download="data.docx",a.click()})();break;case"image":(async(e,t)=>{const a=document.getElementById(e),s=a.querySelector(".export-icon"),c=a.querySelector("h2"),r=a.querySelectorAll(".ant-picker");s&&(s.style.display="none"),c&&!O&&(c.style.display="none"),r&&!p&&r.forEach((e=>e.style.display="none"));const n=await g()(a);s&&(s.style.display="block"),c&&!O&&(c.style.display="block"),r&&!p&&r.forEach((e=>e.style.display="block"));const l=n.toDataURL("image/png"),i=document.createElement("a");i.href=l,i.download="".concat(t,".png"),i.click()})("div-".concat(a),t)}},children:[Object(N.jsx)(h.a,{checked:O,onChange:e=>x(e.target.checked),children:"Include Title"}),Object(N.jsx)(h.a,{checked:p,onChange:e=>v(e.target.checked),children:"Include Date Picker"}),Object(N.jsxs)(m.a.Group,{value:S,onChange:e=>C(e.target.value),children:[Object(N.jsx)(m.a,{value:"excel",children:"Export to Excel"}),Object(N.jsx)(m.a,{value:"word",children:"Export to Word"}),Object(N.jsx)(m.a,{value:"image",children:"Export as Image"})]})]})]})};var R=function(){const{Title:e}=u.a,[t,a]=Object(s.useState)(C),[c,r]=Object(s.useState)(D),[n,l]=Object(s.useState)(P),[i,d]=Object(s.useState)(F),[b,h]=Object(s.useState)(T),[m,O]=Object(s.useState)(E),[p,g]=Object(s.useState)(A),[y,v]=Object(s.useState)("Bar"),[f,w]=Object(s.useState)(!1),[k,I]=Object(s.useState)(!0),[R,B]=Object(s.useState)(!0),[U,z]=Object(s.useState)("excel"),q=e=>({labels:e.map((e=>e.date)),datasets:[{label:"Count",backgroundColor:"#470c8c",borderColor:"rgba(75,192,192,1)",borderWidth:1,hoverBackgroundColor:"rgba(75,192,192,0.6)",hoverBorderColor:"rgba(75,192,192,1)",data:e.map((e=>e.count))}]}),M=e=>{const t=["#FF6384","#36A2EB","#FFCE56","#8D6E63","#66BB6A","#AB47BC","#EC407A","#42A5F5","#26C6DA","#7E57C2","#26A69A","#D4E157","#5C6BC0","#7CB342","#F06292","#9575CD","#64B5F6","#81C784","#E57373","#5C6BC0","#7CB342","#F06292","#9575CD","#64B5F6"],a=[],s=new Set;return Object.values(e).forEach((e=>{e.forEach((e=>{s.add(e.client)}))})),s.forEach(((s,c)=>{const r=[],n=t[c%t.length];Object.entries(e).forEach((e=>{let[t,a]=e;const c=a.find((e=>e.client===s));r.push(c?c.count:0)})),a.push({label:s,backgroundColor:n,borderColor:n,borderWidth:1,hoverBackgroundColor:"rgba(75,192,192,0.6)",hoverBorderColor:n,data:r})})),{labels:Object.keys(e),datasets:a}},K=e=>{const t=["#FF6384","#36A2EB","#FFCE56","#8D6E63","#66BB6A","#AB47BC","#EC407A","#42A5F5","#26C6DA","#7E57C2","#26A69A","#D4E157","#5C6BC0","#7CB342","#F06292","#9575CD","#64B5F6","#81C784","#E57373","#5C6BC0","#7CB342","#F06292","#9575CD","#64B5F6"],a=[],s=new Set;return Object.values(e).forEach((e=>{Object.keys(e).forEach((e=>{s.add(e)}))})),s.forEach(((s,c)=>{const r=[],n=t[c%t.length];Object.entries(e).forEach((e=>{let[t,a]=e;r.push(a[s]||0)})),a.push({label:s,backgroundColor:n,borderColor:n,borderWidth:1,hoverBackgroundColor:"rgba(75,192,192,0.6)",hoverBorderColor:n,data:r})})),{labels:Object.keys(e),datasets:a}},V=e=>{const t=["#FF6384","#36A2EB","#FFCE56","#8D6E63","#66BB6A","#AB47BC","#EC407A","#42A5F5","#26C6DA","#7E57C2","#26A69A","#D4E157","#5C6BC0","#7CB342","#F06292","#9575CD","#64B5F6","#81C784","#E57373","#5C6BC0","#7CB342","#F06292","#9575CD","#64B5F6"],a=[],s=new Set;return Object.values(e).forEach((e=>{Object.keys(e).forEach((e=>{s.add(e)}))})),s.forEach(((s,c)=>{const r=[],n=t[c%t.length];Object.entries(e).forEach((e=>{let[t,a]=e;r.push(a[s]||0)})),a.push({label:s,backgroundColor:n,borderColor:n,borderWidth:1,hoverBackgroundColor:"rgba(75,192,192,0.6)",hoverBorderColor:n,data:r})})),{labels:Object.keys(e),datasets:a}},_=Object(s.useMemo)((()=>q),[]);return Object(s.useMemo)((()=>M),[]),Object(s.useMemo)((()=>K),[]),Object(s.useMemo)((()=>V),[]),Object(N.jsxs)("div",{className:"layout-content",children:[Object(N.jsx)(x.a,{className:"rowgap-vbox",gutter:[24,0],children:t&&Object.keys(t).map((a=>Object(N.jsx)(o.a,{xs:24,sm:24,md:12,lg:6,xl:6,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"criclebox",children:Object(N.jsx)("div",{className:"number",children:Object(N.jsxs)(x.a,{align:"middle",gutter:[24,0],children:[Object(N.jsx)(o.a,{xs:6,children:Object(N.jsx)(S.a,{style:{fontSize:"34px"}})}),Object(N.jsxs)(o.a,{xs:18,children:[Object(N.jsx)("span",{children:a}),Object(N.jsx)(e,{level:3,children:t[a]})]})]})})})},a)))}),Object(N.jsx)(x.a,{gutter:[24,0],children:c&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(L,{title:"Drivers",dataKey:"Drivers",data:c.Drivers,memoizedGetChartData:_}),Object(N.jsx)(L,{title:"Passengers",dataKey:"Passengers",data:c.Passengers,memoizedGetChartData:_}),Object(N.jsx)(L,{title:"Trips",dataKey:"Trips",data:c.Trips,memoizedGetChartData:_})]})})]})},B=a(270),U=a(484),z=a(488),q=a(59),M=a(485),K=a(489),V=a(476),_=a(492),W=a(493),H=a(494),G=a(495),J=a.p+"static/media/bg-profile.9c36abe7.jpg",X=a.p+"static/media/face-1.d85d07a1.jpg",Z=a.p+"static/media/face-3.e08fd425.jpg",Y=a.p+"static/media/face-4.03453a44.jpg",$=a.p+"static/media/face-5.e725aef8.jpeg",Q=a.p+"static/media/face-6.b75146da.jpeg",ee=a.p+"static/media/face-2.efe2e35c.jpg",te=a.p+"static/media/home-decor-1.05e218fd.jpeg",ae=a.p+"static/media/home-decor-2.b4e5397c.jpeg",se=a.p+"static/media/home-decor-3.74d13fcb.jpeg";var ce=function(){const[e,t]=Object(s.useState)(!1),[,a]=Object(s.useState)(!1),c=[Object(N.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(N.jsx)("path",{d:"M13.5858 3.58579C14.3668 2.80474 15.6332 2.80474 16.4142 3.58579C17.1953 4.36683 17.1953 5.63316 16.4142 6.41421L15.6213 7.20711L12.7929 4.37868L13.5858 3.58579Z",className:"fill-gray-7"}),Object(N.jsx)("path",{d:"M11.3787 5.79289L3 14.1716V17H5.82842L14.2071 8.62132L11.3787 5.79289Z",className:"fill-gray-7"})]},0)],r=Object(N.jsxs)("div",{className:"ant-upload-text font-semibold text-dark",children:[Object(N.jsx)(_.a,{style:{width:20,color:"#000"}}),Object(N.jsx)("div",{children:"Upload New Project"})]}),n=[{title:"Sophie B.",avatar:Z,description:"Hi! I need more information\u2026"},{title:"Anne Marie",avatar:Y,description:"Awesome work, can you\u2026"},{title:"Ivan",avatar:$,description:"About files I can\u2026"},{title:"Peterson",avatar:Q,description:"Have a great afternoon\u2026"},{title:"Nick Daniel",avatar:ee,description:"Hi! I need more information\u2026"}],l=[{img:te,titlesub:"Project #1",title:"Modern",disciption:"As Uber works through a huge amount of internal management turmoil."},{img:ae,titlesub:"Project #2",title:"Scandinavian",disciption:"Music is something that every person has his or her own specific opinion about."},{img:se,titlesub:"Project #3",title:"Minimalist",disciption:"Different people have different taste, and various types of music, Zimbali Resort"}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"profile-nav-bg",style:{backgroundImage:"url("+J+")"}}),Object(N.jsx)(j.a,{className:"card-profile-head",bodyStyle:{display:"none"},title:Object(N.jsxs)(x.a,{justify:"space-between",align:"middle",gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"col-info",children:Object(N.jsxs)(U.a.Group,{children:[Object(N.jsx)(U.a,{size:74,shape:"square",src:X}),Object(N.jsxs)("div",{className:"avatar-info",children:[Object(N.jsx)("h4",{className:"font-semibold m-0",children:"Sarah Jacob"}),Object(N.jsx)("p",{children:"CEO / Co-Founder"})]})]})}),Object(N.jsx)(o.a,{span:24,md:12,style:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:Object(N.jsxs)(m.a.Group,{defaultValue:"a",children:[Object(N.jsx)(m.a.Button,{value:"a",children:"OVERVIEW"}),Object(N.jsx)(m.a.Button,{value:"b",children:"TEAMS"}),Object(N.jsx)(m.a.Button,{value:"c",children:"PROJECTS"})]})})]})}),Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:8,className:"mb-24 ",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Platform Settings"}),children:Object(N.jsxs)("ul",{className:"list settings-list",children:[Object(N.jsx)("li",{children:Object(N.jsx)("h6",{className:"list-header text-sm text-muted",children:"ACCOUNT"})}),Object(N.jsxs)("li",{children:[Object(N.jsx)(z.a,{defaultChecked:!0}),Object(N.jsx)("span",{children:"Email me when someone follows me"})]}),Object(N.jsxs)("li",{children:[Object(N.jsx)(z.a,{}),Object(N.jsx)("span",{children:"Email me when someone answers me"})]}),Object(N.jsxs)("li",{children:[Object(N.jsx)(z.a,{defaultChecked:!0}),Object(N.jsx)("span",{children:"Email me when someone mentions me"})]}),Object(N.jsx)("li",{children:Object(N.jsx)("h6",{className:"list-header text-sm text-muted m-0",children:"APPLICATION"})}),Object(N.jsxs)("li",{children:[Object(N.jsx)(z.a,{defaultChecked:!0}),Object(N.jsx)("span",{children:"New launches and projects"})]}),Object(N.jsxs)("li",{children:[Object(N.jsx)(z.a,{defaultChecked:!0}),Object(N.jsx)("span",{children:"Monthly product updates"})]}),Object(N.jsxs)("li",{children:[Object(N.jsx)(z.a,{defaultChecked:!0}),Object(N.jsx)("span",{children:"Subscribe to newsletter"})]})]})})}),Object(N.jsx)(o.a,{span:24,md:8,className:"mb-24",children:Object(N.jsxs)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Profile Information"}),className:"header-solid h-full card-profile-information",extra:Object(N.jsx)(q.a,{type:"link",children:c}),bodyStyle:{paddingTop:0,paddingBottom:16},children:[Object(N.jsxs)("p",{className:"text-dark",children:[" ","Hi, I\u2019m Alec Thompson, Decisions: If you can\u2019t decide, the answer is no. If two equally difficult paths, choose the one more painful in the short term (pain avoidance is creating an illusion of equality)."," "]}),Object(N.jsx)("hr",{className:"my-25"}),Object(N.jsxs)(M.b,{title:"Oliver Liam",children:[Object(N.jsx)(M.b.Item,{label:"Full Name",span:3,children:"Sarah Emily Jacob"}),Object(N.jsx)(M.b.Item,{label:"Mobile",span:3,children:"(44) 123 1234 123"}),Object(N.jsx)(M.b.Item,{label:"Email",span:3,children:"sarahjacob@mail.com"}),Object(N.jsx)(M.b.Item,{label:"Location",span:3,children:"USA"}),Object(N.jsxs)(M.b.Item,{label:"Social",span:3,children:[Object(N.jsx)("a",{href:"#pablo",className:"mx-5 px-5",children:Object(N.jsx)(W.a,{})}),Object(N.jsx)("a",{href:"#pablo",className:"mx-5 px-5",children:Object(N.jsx)(H.a,{style:{color:"#344e86"}})}),Object(N.jsx)("a",{href:"#pablo",className:"mx-5 px-5",children:Object(N.jsx)(G.a,{style:{color:"#e1306c"}})})]})]})]})}),Object(N.jsx)(o.a,{span:24,md:8,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Conversations"}),className:"header-solid h-full",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsx)(K.b,{itemLayout:"horizontal",dataSource:n,split:!1,className:"conversations-list",renderItem:e=>Object(N.jsx)(K.b.Item,{actions:[Object(N.jsx)(q.a,{type:"link",children:"REPLY"})],children:Object(N.jsx)(K.b.Item.Meta,{avatar:Object(N.jsx)(U.a,{shape:"square",size:48,src:e.avatar}),title:e.title,description:e.description})})})})})]}),Object(N.jsx)(j.a,{bordered:!1,className:"header-solid mb-24",title:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h6",{className:"font-semibold",children:"Projects"}),Object(N.jsx)("p",{children:"Architects design houses"})]}),children:Object(N.jsxs)(x.a,{gutter:[24,24],children:[l.map(((e,t)=>Object(N.jsx)(o.a,{span:24,md:12,xl:6,children:Object(N.jsxs)(j.a,{bordered:!1,className:"card-project",cover:Object(N.jsx)("img",{alt:"example",src:e.img}),children:[Object(N.jsx)("div",{className:"card-tag",children:e.titlesub}),Object(N.jsx)("h5",{children:e.titile}),Object(N.jsx)("p",{children:e.disciption}),Object(N.jsxs)(x.a,{gutter:[6,0],className:"card-footer",children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(q.a,{type:"button",children:"VIEW PROJECT"})}),Object(N.jsx)(o.a,{span:12,className:"text-right",children:Object(N.jsxs)(U.a.Group,{className:"avatar-chips",children:[Object(N.jsx)(U.a,{size:"small",src:X}),Object(N.jsx)(U.a,{size:"small",src:Z}),Object(N.jsx)(U.a,{size:"small",src:Y}),Object(N.jsx)(U.a,{size:"small",src:$})]})})]})]})},t))),Object(N.jsx)(o.a,{span:24,md:12,xl:6,children:Object(N.jsx)(V.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader projects-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:e=>{const t="image/jpeg"===e.type||"image/png"===e.type;t||B.b.error("You can only upload JPG/PNG file!");const a=e.size/1024/1024<2;return a||B.b.error("Image must smaller than 2MB!"),t&&a},onChange:e=>{"uploading"!==e.file.status?"done"===e.file.status&&((e,t)=>{const a=new FileReader;a.addEventListener("load",(()=>t(a.result))),a.readAsDataURL(e)})(e.file.originFileObj,(e=>{a(!1),t(!1)})):a(!1)},children:e?Object(N.jsx)("img",{src:e,alt:"avatar",style:{width:"100%"}}):r})})]})})]})},re=a(472),ne=a(481),le=a(487),ie=a(138),de=a.p+"static/media/wekil.806d29b3.jpg",oe=a(496),je=a(497),be=a(145),he=a(498);var me=function(e){let{color:t}=e;const{pathname:a}=Object(l.g)(),s=a.replace("/",""),c=Object(N.jsx)(oe.a,{style:{color:"dashboard"===s?t:""}}),r=Object(N.jsx)(je.a,{style:{color:"profile"===s?t:""}});return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"brand",children:[Object(N.jsx)("img",{src:de,width:40,height:40,alt:""}),Object(N.jsx)("span",{children:"Wekil Zewari"})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)(ie.a,{theme:"light",mode:"inline",defaultOpenKeys:["general-management"],children:[Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/dashboard",children:[Object(N.jsx)("span",{className:"icon",children:c}),Object(N.jsx)("span",{className:"label",children:"Dashboard"})]})},"1"),Object(N.jsxs)(ie.a.SubMenu,{title:"General Management",children:[Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/drivers",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Drivers"})]})},"drivers"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/activeDrivers",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Active Drivers"})]})},"activeDrivers"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/passengers",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Passengers"})]})},"passengers"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/vehicles",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Vehicles"})]})},"vehicles"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/tripRequests",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Trip Requests"})]})},"tripRequests"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/trips",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Trips"})]})},"trips"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/reservations",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Reservations"})]})},"reservations"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/dispatch",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Dispatch"})]})},"dispatch"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/transactions",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Transactions"})]})},"transactions"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/companies",children:[Object(N.jsx)("span",{className:"icon",children:r}),Object(N.jsx)("span",{className:"label",children:"Companies"})]})},"companies")]},"general-management"),Object(N.jsxs)(ie.a.SubMenu,{title:"Configuration",children:[Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/vehicleTypes",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Vehicle Types"})]})},"vehicleTypes"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/initialPrices",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Initial Prices"})]})},"initialPrices"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/searchRadiuses",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(be.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Search Radius"})]})},"searchRadiuses")]},"configuration"),Object(N.jsxs)(ie.a.SubMenu,{title:"User Management",children:[Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/users",children:[Object(N.jsx)("span",{className:"icon",children:r}),Object(N.jsx)("span",{className:"label",children:"Users"})]})},"users"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/roles",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(je.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Roles"})]})},"roles"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.c,{to:"/permissions",children:[Object(N.jsx)("span",{className:"icon",children:Object(N.jsx)(he.a,{style:{color:"blue"}})}),Object(N.jsx)("span",{className:"label",children:"Permissions"})]})},"permissions")]},"user-management")]}),Object(N.jsx)("div",{className:"aside-footer",children:Object(N.jsxs)("div",{className:"footer-box",style:{background:t},children:[Object(N.jsx)("span",{className:"icon",style:{color:t},children:c}),Object(N.jsx)("h6",{children:"Need Help?"}),Object(N.jsx)("p",{children:"Please check our docs"}),Object(N.jsx)(q.a,{type:"primary",className:"ant-btn-sm ant-btn-block",children:"DOCUMENTATION"})]})})]})},ue=a(486),Oe=a(189),xe=a(499),pe=a(500),ge=a(501),ye=a(269),ve=a(477),fe=a(475);const{Password:Se}=ye.a;var we=e=>{let{onClose:t,onOk:a}=e;const[c]=ve.a.useForm(),r=JSON.parse(localStorage.getItem("userData")).id,[n,l]=Object(s.useState)(null),[i,d]=Object(s.useState)(!0);Object(s.useEffect)((()=>{(async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/users/".concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});l(e.data),d(!1)}catch(e){console.error("Error fetching user data:",e)}})()}),[r]),Object(s.useEffect)((()=>{n&&c.setFieldsValue({firstName:n.firstName,lastName:n.lastName,email:n.email,phoneNumber:n.phoneNumber})}),[n,c]);return i?Object(N.jsx)("div",{children:"Loading..."}):Object(N.jsxs)(ve.a,{form:c,onFinish:async e=>{try{await fe.a.put("http://194.164.72.21:5001/users/updateProfile/".concat(r),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});const t=await fe.a.get("http://194.164.72.21:5001/users/".concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});B.b.success("Update Successful."),l(t.data),a()}catch(t){console.error("Error updating data:",t)}},layout:"vertical",children:[Object(N.jsx)(ve.a.Item,{label:"First Name",name:"firstName",rules:[{required:!0,message:"Please enter a First Name"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{label:"Last Name",name:"lastName",rules:[{required:!0,message:"Please enter a Last Name"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please enter an Email"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter a Phone Number"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{onClick:()=>{t()},style:{marginLeft:8},children:"Cancel"})]})]})};const{Password:Ne}=ye.a;var ke=e=>{let{onClose:t,onOk:a}=e;const[c]=ve.a.useForm(),r=JSON.parse(localStorage.getItem("userData")).id,[n,l]=Object(s.useState)(null),[i,d]=Object(s.useState)(!0);Object(s.useEffect)((()=>{(async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/users/".concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});l(e.data),d(!1)}catch(e){console.error("Error fetching user data:",e),B.b.error("Error fetching user data")}})()}),[r]),Object(s.useEffect)((()=>{n&&c.setFieldsValue({firstName:n.firstName,lastName:n.lastName,email:n.email,phoneNumber:n.phoneNumber})}),[n,c]);return i?Object(N.jsx)("div",{children:"Loading..."}):Object(N.jsxs)(ve.a,{form:c,onFinish:async e=>{if(e.newPassword===e.confirmPassword)try{await fe.a.put("http://194.164.72.21:5001/users/change-password/".concat(r),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});const t=await fe.a.get("http://194.164.72.21:5001/users/".concat(r),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});B.b.success("Update Successful."),l(t.data),a()}catch(t){console.error("Error updating data:",t),t.response||t.response.data||t.response.data.message?B.b.error("Invalid current Password"):B.b.error("Error updating password")}else B.b.error("New Password and Confirm Password do not match")},layout:"vertical",children:[Object(N.jsx)(ve.a.Item,{label:"Current Password",name:"currentPassword",rules:[{required:!0,message:"Please enter your current password"}],children:Object(N.jsx)(Ne,{})}),Object(N.jsx)(ve.a.Item,{label:"New Password",name:"newPassword",rules:[{required:!0,message:"Please enter your new password"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character"}],children:Object(N.jsx)(Ne,{})}),Object(N.jsx)(ve.a.Item,{label:"Confirm Password",name:"confirmPassword",dependencies:["newPassword"],rules:[{required:!0,message:"Please confirm your new password"},e=>{let{getFieldValue:t}=e;return{validator:(e,a)=>a&&t("newPassword")!==a?Promise.reject(new Error("The two passwords that you entered do not match")):Promise.resolve()}}],children:Object(N.jsx)(Ne,{})}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{onClick:()=>{t()},style:{marginLeft:8},children:"Cancel"})]})]})};const Ie=Object(N.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(N.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM12 7C12 8.10457 11.1046 9 10 9C8.89543 9 8 8.10457 8 7C8 5.89543 8.89543 5 10 5C11.1046 5 12 5.89543 12 7ZM9.99993 11C7.98239 11 6.24394 12.195 5.45374 13.9157C6.55403 15.192 8.18265 16 9.99998 16C11.8173 16 13.4459 15.1921 14.5462 13.9158C13.756 12.195 12.0175 11 9.99993 11Z",fill:"#111827"})},0),Ce=Object(N.jsx)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(N.jsx)("path",{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})},0);var De=function(e){let{placement:t,name:a,subName:c,onPress:r}=e;const[l,i]=Object(s.useState)(!1),[d,j]=Object(s.useState)(!1),[h,m]=Object(s.useState)(!1);Object(s.useEffect)((()=>window.scrollTo(0,0)),[]);const u=JSON.parse(localStorage.getItem("userData")),O=()=>j(!1),p=()=>m(!1),g=Object(N.jsxs)(ie.a,{children:[Object(N.jsxs)(ie.a.Item,{onClick:()=>j(!0),children:[Object(N.jsx)(xe.a,{})," Update Profile"]},"0"),Object(N.jsxs)(ie.a.Item,{onClick:()=>m(!0),children:[Object(N.jsx)(pe.a,{})," Change Password"]},"1"),Object(N.jsx)(ie.a.Item,{children:Object(N.jsxs)(n.b,{to:"/login",children:[Object(N.jsx)(ge.a,{})," Logout"]})},"2")]});return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsxs)(o.a,{span:24,md:6,children:[Object(N.jsxs)(ue.a,{children:[Object(N.jsx)(ue.a.Item,{children:Object(N.jsx)(n.c,{to:"/",children:"Pages"})}),Object(N.jsx)(ue.a.Item,{style:{textTransform:"capitalize"},children:a.replace("/","")})]}),Object(N.jsx)("div",{className:"ant-page-header-heading",children:Object(N.jsx)("span",{className:"ant-page-header-heading-title",style:{textTransform:"capitalize"},children:c.replace("/","")})})]}),Object(N.jsxs)(o.a,{span:24,md:18,className:"header-control",children:[Object(N.jsx)(q.a,{type:"link",className:"sidebar-toggler",onClick:()=>r(),children:Ce}),Object(N.jsx)(ne.a,{className:"settings-drawer",mask:!0,width:360,onClose:()=>i(!1),placement:t,visible:l}),Object(N.jsx)(Oe.a,{overlay:g,trigger:["click"],children:Object(N.jsxs)(n.b,{to:"#",className:"ant-dropdown-link btn-sign-in",onClick:e=>e.preventDefault(),children:[Ie,Object(N.jsx)("span",{children:u.firstName})]})})]})]}),Object(N.jsx)(b.a,{title:"Update Profile",visible:d,onCancel:O,footer:null,children:Object(N.jsx)(we,{onClose:O,onOk:O})}),Object(N.jsx)(b.a,{title:"Change Password",visible:h,onCancel:p,footer:null,children:Object(N.jsx)(ke,{onClose:p,onOk:p})})]})},Pe=a(502);var Fe=function(){const{Footer:e}=re.a;return Object(N.jsx)(e,{style:{background:"#fafafa"},children:Object(N.jsx)(x.a,{className:"just",children:Object(N.jsx)(o.a,{xs:24,md:12,lg:12,children:Object(N.jsxs)("div",{className:"copyright",children:["\xa9 2024, made with",Object(N.jsx)(Pe.a,{})," by",Object(N.jsx)("a",{href:"#pablo",className:"font-weight-bold",target:"_blank",children:"Wekil Zewari            "})]})})})})};const{Header:Te,Content:Ee,Sider:Ae}=re.a;var Le=function(e){let{children:t}=e;const[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)("right"),[i,d]=Object(s.useState)("#1890ff"),[o,j]=Object(s.useState)("transparent"),[b,h]=Object(s.useState)(!1),m=()=>c(!a),u=e=>j(e),O=e=>d(e),x=e=>h(e);let{pathname:p}=Object(l.g)();return p=p.replace("/",""),Object(s.useEffect)((()=>{n("rtl"===p?"left":"right")}),[p]),Object(N.jsxs)(re.a,{className:"layout-dashboard ".concat("profile"===p?"layout-profile":""," ").concat("rtl"===p?"layout-dashboard-rtl":""),children:[Object(N.jsx)(ne.a,{title:!1,placement:"right"===r?"left":"right",closable:!1,onClose:()=>c(!1),visible:a,width:250,className:"drawer-sidebar ".concat("rtl"===p?"drawer-sidebar-rtl":""," "),children:Object(N.jsx)(re.a,{className:"layout-dashboard ".concat("rtl"===p?"layout-dashboard-rtl":""),children:Object(N.jsx)(Ae,{trigger:null,width:250,theme:"light",className:"sider-primary ant-layout-sider-primary ".concat("#fff"===o?"active-route":""),style:{background:o},children:Object(N.jsx)(me,{color:i})})})},"right"===r?"left":"right"),Object(N.jsx)(Ae,{breakpoint:"lg",collapsedWidth:"0",onCollapse:(e,t)=>{console.log(e,t)},trigger:null,width:250,theme:"light",className:"sider-primary ant-layout-sider-primary ".concat("#fff"===o?"active-route":""),style:{background:o},children:Object(N.jsx)(me,{color:i})}),Object(N.jsxs)(re.a,{children:[b?Object(N.jsx)(le.a,{children:Object(N.jsx)(Te,{className:"".concat(b?"ant-header-fixed":""),children:Object(N.jsx)(De,{onPress:m,name:p,subName:p,handleSidenavColor:O,handleSidenavType:u,handleFixedNavbar:x})})}):Object(N.jsx)(Te,{className:"".concat(b?"ant-header-fixed":""),children:Object(N.jsx)(De,{onPress:m,name:p,subName:p,handleSidenavColor:O,handleSidenavType:u,handleFixedNavbar:x})}),Object(N.jsx)(Ee,{className:"content-ant",children:t}),Object(N.jsx)(Fe,{})]})]})},Re=a(266),Be=a(482),Ue=a(272),ze=a(473),qe=a(185),Me=a(274),Ke=a(202),Ve=a(141);var _e=e=>{const[t,a]=Object(s.useState)(null),[c,r]=Object(s.useState)(null),[n,i]=Object(s.useState)(!1),d=Object(l.f)(),o=localStorage.getItem("token");o||d.push("/login");const j=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://194.164.72.21:5001",b=async()=>{try{if(i(!0),!o)throw new Error("Token not found");const t=await fe.a.get("".concat(j,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o),tennant:"web"}});a(t.data)}catch(c){c.response&&401===c.response.status||403===c.response.status?d.push("/login"):(r(c.message),B.b.error("Something went wrong!"))}finally{i(!1)}};Object(s.useEffect)((()=>{b()}),[e,o]);return{data:t,error:c,loading:n,postData:async t=>{try{if(!o)throw new Error("Token not found");const s=await fe.a.post("".concat(j,"/").concat(e),t,{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",tennant:"web"}});a(s.data)}catch(c){r(c.message)}},putData:async(t,s)=>{console.log("url",s);try{if(!o)throw new Error("Token not found");const c=await fe.a.put("".concat(j,"/").concat(e,"/").concat(s),t,{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",tennant:"web"}});a(c.data)}catch(c){r(c.message)}},deleteData:async t=>{try{if(!o)throw new Error("Token not found");const s=await fe.a.delete("".concat(j,"/").concat(e,"/").concat(t),{headers:{Authorization:"Bearer ".concat(o),tennant:"web"}});a(s.data)}catch(c){r(c.message)}},postFormData:async(e,t)=>{try{const a=localStorage.getItem("token");if(!a)throw new Error("Token not found");return(await fe.a.post("".concat(j,"/").concat(t),e,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data",tennant:"web"}})).data}catch(c){throw new Error(c.message||"Failed to upload data")}},putFormData:async(e,t)=>{console.log("fff",e);try{const a=localStorage.getItem("token");if(!a)throw new Error("Token not found");return(await fe.a.put("".concat(j,"/").concat(t),e,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data",tennant:"web"}})).data}catch(c){throw new Error(c.message||"Failed to upload data")}},refetchData:async()=>{b()},token:o}};const{Option:We}=d.a;var He=e=>{let{formData:t,setFormData:a,closeModal:c,refetchData:r}=e;const[n]=ve.a.useForm(),[l,i]=Object(s.useState)([]),[j,b]=Object(s.useState)([]),[h,m]=Object(s.useState)([]),{postFormData:u,putFormData:O}=_e("drivers");Object(s.useEffect)((()=>{n.setFieldsValue(t)}),[t,n]);return Object(N.jsxs)(ve.a,{form:n,onFinish:async e=>{try{var s,n;let l;l=t.id?await O(e,"drivers/".concat(t.id)):await u(e,"drivers"),null!==(s=l)&&void 0!==s&&null!==(n=s.driver)&&void 0!==n&&n.id,B.b.success("Driver saved successfully"),a({}),c(),r()}catch(l){console.error("Error:",l)}},layout:"vertical",children:[Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"First Name",name:"firstName",rules:[{required:!0,message:"Please enter a first name"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Last Name",name:"lastName",rules:[{required:!0,message:"Please enter a last name"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter a phone number"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Status",name:"status",children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)(We,{value:"Pending",children:"Pending"}),Object(N.jsx)(We,{value:"Active",children:"Active"}),Object(N.jsx)(We,{value:"Inactive",children:"Inactive"})]})})})]}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{htmlType:"button",onClick:()=>n.resetFields(),children:"Reset"})]})]})},Ge=a(71);const{TabPane:Je}=Re.a,{Search:Xe}=ye.a;var Ze=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,i]=Object(s.useState)(!1),[d,h]=Object(s.useState)([]),m=["firstName","lastName","phoneNumber","email","status","actions"],[u,O]=Object(s.useState)([]),[p,g]=Object(s.useState)([]),[y,v]=Object(s.useState)(""),[f,S]=Object(s.useState)(null),[w,k]=Object(s.useState)(null),[I,C]=Object(s.useState)(!1),[D,P]=Object(s.useState)(!1),[F,T]=Object(s.useState)(!1),E=Object(l.f)();Object(s.useEffect)((()=>{h(m)}),[]),Object(s.useEffect)((()=>{A()}),[F]);const A=async()=>{try{P(!0);const e=await fe.a.get("http://194.164.72.21:5001/drivers");O(e.data),g(e.data),P(!1)}catch(e){B.b.error("Unable to load data!"),P(!1)}},L=e=>{v(e);const t=u.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));g(t)},R=[{title:"First Name",dataIndex:"firstName",key:"firstName",width:"20%"},{title:"Last Name",dataIndex:"lastName",key:"lastName",width:"20%"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber",width:"20%"},{title:"Rating",dataIndex:"rating",key:"rating",width:"20%",render:e=>Object(N.jsx)(Be.a,{disabled:!0,value:e})},{title:"Status",dataIndex:"status",key:"status",width:"20%",render:e=>{let t="";switch(e){case"Active":t="darkgreen";break;case"Pending":t="darkorange";break;case"Inactive":t="darkred";break;default:t="gray"}return Object(N.jsx)(Ue.a,{color:t,children:e.toUpperCase()})}},{title:"Actions",width:"20%",key:"actions",render:(e,t)=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(Me.a,{}),onClick:()=>U(t),style:{marginRight:8},children:"Edit"}),Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/driverDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})]})}],U=e=>{c(e),t(!0)},z=e=>{let{columns:t,data:a,onRow:c}=e;const r=t.map((e=>e.key)).slice(0,7),[n,l]=Object(s.useState)(r),i=t.filter((e=>n.includes(e.key)));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:i,dataSource:a,pagination:{pageSize:5},className:"ant-border-space",onRow:c})})})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(j.a,{children:[Object(N.jsx)(x.a,{gutter:[24,0],children:Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(Xe,{placeholder:"Search Drivers",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:L,onChange:e=>L(e.target.value)})})}),Object(N.jsxs)(x.a,{gutter:[16,16],children:[Object(N.jsx)(o.a,{xs:24,xl:w?12:24,children:D?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(z,{onRow:e=>({}),columns:R,data:p,pagination:{pageSize:5}})}),Object(N.jsx)(o.a,{xs:24,xl:12,children:w&&Object(N.jsx)("div",{className:"tabled",children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(Je,{tab:"Details",children:Object(N.jsxs)(j.a,{title:"Details of ".concat(w.firstName," ").concat(w.lastName),style:{height:"500px",overflow:"auto"},headStyle:{position:"sticky",top:"0",zIndex:"1",background:"#fff"},extra:Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(N.jsx)(q.a,{type:"link",onClick:()=>{k(null)},style:{color:"red"},children:"Close"}),Object(N.jsx)(q.a,{type:"link",onClick:()=>E.push("/driverDetails/".concat(w.id)),style:{color:"green"},children:"Details"})]}),children:[Object(N.jsxs)("p",{children:["Phone Number: ",w.phoneNumber]}),Object(N.jsxs)("p",{children:["Email: ",w.email]}),Object(N.jsxs)("p",{children:["Status: ",w.status]}),Object(N.jsxs)("p",{children:["Address: ",w.address]}),Object(N.jsxs)("p",{children:["Rating: ",w.rating]})]})},"1"),Object(N.jsx)(Je,{tab:"File Preview",children:Object(N.jsxs)(j.a,{bordered:!1,className:"header-solid h-full",children:[Object(N.jsx)("h4",{children:"Driver Preview:"}),Object(N.jsx)("div",{style:{width:"100%",height:"400px"},children:Object(N.jsx)(Ge.b,{pluginRenderers:Ge.a,documents:w.documents?"http://194.164.72.21:5001".concat(w.documents):[],config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1}},style:{height:400}})})]})},"2")]})})})]})]}),Object(N.jsx)(b.a,{title:a.id?"Edit Driver":"Add Driver",visible:e,onCancel:()=>t(!1),footer:null,width:800,children:Object(N.jsx)(He,{formData:a,setFormData:c,closeModal:()=>t(!1),setSubmitted:T})})]})},Ye=a(142);const{TabPane:$e}=Re.a,{Search:Qe}=ye.a;var et=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,i]=Object(s.useState)(!1),[d,m]=Object(s.useState)([]),u=["driverId","vehicleTypeId","socketId","currentLat","currentLon","queueNumber","status","actions"],[O,p]=Object(s.useState)([]),[g,y]=Object(s.useState)([]),[v,f]=Object(s.useState)(""),[S,w]=Object(s.useState)(null),[k,I]=Object(s.useState)(!1),[C,D]=Object(s.useState)(!1),[P,F]=Object(s.useState)(!1),T=Object(l.f)();Object(s.useEffect)((()=>{m(u)}),[]),Object(s.useEffect)((()=>{E()}),[P]);const E=async()=>{try{D(!0);const e=await fe.a.get("http://194.164.72.21:5001/drivers/active"),t=await Promise.all(e.data.activeDrivers.map((async e=>{const t=await(async e=>{try{const t=await fe.a.get("http://194.164.72.21:5001/drivers/".concat(e),{headers:{tennant:"web"}}),{status:a,...s}=t.data.driver;return s}catch(t){return console.error("Unable to fetch driver details for driverId ".concat(e),t),null}})(e.driverId);return{...e,...t,key:e.id}})));p(t),y(t),D(!1)}catch(e){B.b.error("Unable to load data!"),D(!1)}},A=[{title:"Driver ID",dataIndex:"driverId",key:"driverId"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Lattitude",dataIndex:"currentLat",key:"currentLat"},{title:"Longitude",dataIndex:"currentLon",key:"currentLon"},{title:"Queue Number",dataIndex:"queueNumber",key:"queueNumber"},{title:"Status",dataIndex:"status",key:"status",render:e=>Object(N.jsx)(Ue.a,{color:"Ready"===e?"darkgreen":"Busy"===e?"darkred":"gray",children:e})},{title:"Actions",key:"actions",render:(e,t)=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(Me.a,{}),onClick:()=>L(t),style:{marginRight:8},children:"Edit"}),Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/driverDetails/".concat(t.driverId),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})]})}],L=e=>{c(e),t(!0)},R=()=>Object(N.jsx)(h.a.Group,{options:A.map((e=>({label:e.title,value:e.key}))),value:d,onChange:e=>m(e)}),U=e=>{let{columns:t,data:a,onRow:c}=e;const r=t.map((e=>e.key)),[n,l]=Object(s.useState)(r),i=t.filter((e=>n.includes(e.key)));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Oe.a,{overlay:Object(N.jsx)(R,{columns:t.map((e=>({label:e.title,value:e.key}))),selectedColumns:r,onChange:e=>{l(e)}}),trigger:["click"],children:Object(N.jsxs)(q.a,{children:["Select Columns ",Object(N.jsx)(Ye.a,{})]})}),Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:i,dataSource:a,pagination:{pageSize:5},className:"ant-border-space",scroll:{x:1500,y:400},onRow:c})})]})};return Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{children:Object(N.jsxs)(x.a,{gutter:[16,16],children:[Object(N.jsx)(o.a,{xs:24,xl:S?12:24,children:C?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(U,{onRow:e=>({}),columns:A,data:g,pagination:{pageSize:5}})}),Object(N.jsx)(o.a,{xs:24,xl:12,children:S&&Object(N.jsx)("div",{className:"tabled",children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)($e,{tab:"Details",children:Object(N.jsxs)(j.a,{title:"Details of Driver ID ".concat(S.driverId),style:{height:"500px",overflow:"auto"},headStyle:{position:"sticky",top:"0",zIndex:"1",background:"#fff"},extra:Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(N.jsx)(q.a,{type:"link",onClick:()=>{w(null)},style:{color:"red"},children:"Close"}),Object(N.jsx)(q.a,{type:"link",onClick:()=>T.push("/driverDetails/".concat(S.driverId)),style:{color:"green"},children:"Details"})]}),children:[Object(N.jsxs)("p",{children:["Phone Number: ",S.phoneNumber]}),Object(N.jsxs)("p",{children:["Email: ",S.email]}),Object(N.jsxs)("p",{children:["Status: ",S.status]}),Object(N.jsxs)("p",{children:["Address: ",S.address]}),Object(N.jsxs)("p",{children:["Rating: ",S.rating]})]})},"1"),Object(N.jsx)($e,{tab:"File Preview",children:Object(N.jsxs)(j.a,{bordered:!1,className:"header-solid h-full",children:[Object(N.jsx)("h4",{children:"Driver Preview:"}),Object(N.jsx)("div",{style:{width:"100%",height:"400px"},children:Object(N.jsx)(Ge.b,{pluginRenderers:Ge.a,documents:S.documents?"http://194.164.72.21:5001".concat(S.documents):[],config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1}},style:{height:400}})})]})},"2")]})})})]})}),Object(N.jsx)(b.a,{title:a.id?"Edit Driver":"Add Driver",visible:e,onCancel:()=>t(!1),footer:null,width:800,children:Object(N.jsx)(He,{formData:a,setFormData:c,closeModal:()=>t(!1),setSubmitted:F})})]})};const{Option:tt}=d.a;var at=e=>{let{formData:t,setFormData:a,closeModal:c,refetchData:r}=e;const[n]=ve.a.useForm(),[l,i]=Object(s.useState)([]),[j,b]=Object(s.useState)([]),[h,m]=Object(s.useState)([]),{postFormData:u,putFormData:O}=_e("passengers");Object(s.useEffect)((()=>{n.setFieldsValue(t)}),[t,n]);return Object(N.jsxs)(ve.a,{form:n,onFinish:async e=>{try{var s,n;let l;l=t.id?await O(e,"passengers/".concat(t.id)):await u(e,"passengers"),null!==(s=l)&&void 0!==s&&null!==(n=s.passenger)&&void 0!==n&&n.id?(await(async e=>{const t=new FormData;j.forEach((e=>{let{originFileObj:a}=e;t.append("passengerImage",a)})),await fe.a.put(e,t,{headers:{"Content-Type":"multipart/form-data",tennant:"web"}})})("http://194.164.72.21:5001/passengers/updateDocuments/".concat(l.passenger.id),l.passenger.id),B.b.success("Passenger and documents uploaded successfully")):B.b.success("Passenger saved successfully"),a({}),c(),r()}catch(l){console.error("Error:",l),B.b.error("Failed to save passenger")}},layout:"vertical",children:[Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"First Name",name:"firstName",rules:[{required:!0,message:"Please enter a first name"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Last Name",name:"lastName",rules:[{required:!0,message:"Please enter a last name"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter a phone number"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Status",name:"status",children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)(tt,{value:"Pending",children:"Pending"}),Object(N.jsx)(tt,{value:"Active",children:"Active"}),Object(N.jsx)(tt,{value:"Inactive",children:"Inactive"})]})})})]}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{htmlType:"button",onClick:()=>n.resetFields(),children:"Reset"})]})]})};const{TabPane:st}=Re.a,{Search:ct}=ye.a;var rt=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,i]=Object(s.useState)(!1),[d,h]=Object(s.useState)([]),m=["firstName","lastName","phoneNumber","email","status","actions"],[u,p]=Object(s.useState)([]),[g,y]=Object(s.useState)([]),[v,f]=Object(s.useState)(""),[S,w]=Object(s.useState)(null),[k,I]=Object(s.useState)(null),[C,D]=Object(s.useState)(!1),[P,F]=Object(s.useState)(!1),[T,E]=Object(s.useState)(!1),A=Object(l.f)();Object(s.useEffect)((()=>{h(m)}),[]),Object(s.useEffect)((()=>{R()}),[T]);const L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const a=e.length>t?e.substring(0,t)+"...":e;return Object(N.jsx)(O.a,{title:e,children:Object(N.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"},children:a})})},R=async()=>{try{F(!0);const e=await fe.a.get("http://194.164.72.21:5001/passengers");p(e.data),y(e.data),F(!1)}catch(e){B.b.error("Unable to load data!"),F(!1)}},U=e=>{f(e);const t=u.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));y(t)},z=[{title:"First Name",dataIndex:"firstName",key:"firstName",width:"20%"},{title:"Last Name",dataIndex:"lastName",key:"lastName",width:"20%"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber",width:"20%"},{title:"Status",dataIndex:"status",key:"status",width:"10%",render:e=>{let t="";switch(e){case"Active":t="darkgreen";break;case"Pending":t="darkorange";break;case"Inactive":t="darkred";break;default:t="gray"}return Object(N.jsx)(O.a,{title:e.toUpperCase(),children:Object(N.jsx)(Ue.a,{color:t,children:L(e.toUpperCase(),10)})})}},{title:"Actions",width:"20%",key:"actions",render:(e,t)=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(Me.a,{}),onClick:()=>M(t),style:{marginRight:8},children:"Edit"}),Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/passengerDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})]})}],M=e=>{c(e),t(!0)},K=e=>{let{columns:t,data:a,onRow:c}=e;const r=t.map((e=>e.key)).slice(0,7),[n,l]=Object(s.useState)(r),i=t.filter((e=>n.includes(e.key)));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:i,dataSource:a,pagination:{pageSize:5},className:"ant-border-space",onRow:c})})})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:12,style:{textAlign:"left"}}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ct,{placeholder:"Search Passengers",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:U,onChange:e=>U(e.target.value)})})]}),Object(N.jsxs)(x.a,{gutter:[16,16],children:[Object(N.jsx)(o.a,{xs:24,xl:k?12:24,children:P?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(K,{onRow:e=>({}),columns:z,data:g,pagination:{pageSize:5}})}),Object(N.jsx)(o.a,{xs:24,xl:12,children:k&&Object(N.jsx)("div",{className:"tabled",children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(st,{tab:"Details",children:Object(N.jsxs)(j.a,{title:"Details of ".concat(k.firstName," ").concat(k.lastName),style:{height:"500px",overflow:"auto"},headStyle:{position:"sticky",top:"0",zIndex:"1",background:"#fff"},extra:Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(N.jsx)(q.a,{type:"link",onClick:()=>{I(null)},style:{color:"red"},children:"Close"}),Object(N.jsx)(q.a,{type:"link",onClick:()=>A.push("/passengerDetails/".concat(k.id)),style:{color:"green"},children:"Details"})]}),children:[Object(N.jsxs)("p",{children:["Phone Number: ",k.phoneNumber]}),Object(N.jsxs)("p",{children:["Email: ",k.email]}),Object(N.jsxs)("p",{children:["Status: ",k.status]}),Object(N.jsxs)("p",{children:["Address: ",k.address]}),Object(N.jsxs)("p",{children:["Rating: ",k.rating]})]})},"1"),Object(N.jsx)(st,{tab:"File Preview",children:Object(N.jsxs)(j.a,{bordered:!1,className:"header-solid h-full",children:[Object(N.jsx)("h4",{children:"Passenger Preview:"}),Object(N.jsx)("div",{style:{width:"100%",height:"400px"},children:Object(N.jsx)(Ge.b,{pluginRenderers:Ge.a,documents:k.documents?"http://194.164.72.21:5001".concat(k.documents):[],config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1}},style:{height:400}})})]})},"2")]})})})]})]}),Object(N.jsx)(b.a,{title:a.id?"Edit Passenger":"Add Passenger",visible:e,onCancel:()=>t(!1),footer:null,width:800,children:Object(N.jsx)(at,{formData:a,setFormData:c,closeModal:()=>t(!1),setSubmitted:E})})]})};const{Search:nt}=ye.a;var lt=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,i]=Object(s.useState)(!1),[d,b]=Object(s.useState)([]),h=["id","from","to","pickUpTime","distance","price","status","driverName","driverPhone","actions"],[m,u]=Object(s.useState)([]),[p,g]=Object(s.useState)([]),[y,v]=Object(s.useState)(""),[f,S]=Object(s.useState)(null),[w,k]=Object(s.useState)(!1),[I,C]=Object(s.useState)(!1),[D,P]=Object(s.useState)(!1);Object(l.f)();Object(s.useEffect)((()=>{b(h)}),[]),Object(s.useEffect)((()=>{F()}),[D]);const F=async()=>{try{C(!0);const e=await fe.a.get("http://194.164.72.21:5001/trips");u(e.data),g(e.data),C(!1)}catch(e){B.b.error("Unable to load data!"),C(!1)}},T=e=>{v(e);const t=m.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));g(t)},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const a=e.length>t?e.substring(0,t)+"...":e;return Object(N.jsx)(O.a,{title:e,children:Object(N.jsx)("span",{children:a})})},A=[{title:"Trip ID",dataIndex:"id",key:"id",width:"10%"},{title:"Driver Name",dataIndex:["driver","firstName"],key:"driverName",width:"10%",render:(e,t)=>E("".concat(t.driver.firstName," ").concat(t.driver.lastName),15)},{title:"Passenger Name",dataIndex:["passenger","firstName"],key:"passengerName",width:"10%",render:(e,t)=>E("".concat(t.passenger.firstName," ").concat(t.passenger.lastName),15)},{title:"Start Location",dataIndex:"from",key:"from",width:"10%",render:e=>E(e,20)},{title:"End Location",dataIndex:"to",key:"to",width:"10%",render:e=>E(e,20)},{title:"Date",dataIndex:"pickUpTime",key:"pickUpTime",width:"10%",render:e=>E(new Date(e).toLocaleString(),20)},{title:"Status",dataIndex:"status",key:"status",width:"10%",render:e=>{let t="";switch(e){case"Ended":t="darkgreen";break;case"Active":t="darkorange";break;case"inactive":t="darkred";break;default:t="gray"}return Object(N.jsx)(O.a,{title:e.toUpperCase(),children:Object(N.jsx)(Ue.a,{color:t,children:E(e.toUpperCase(),7)})})}},{title:"Actions",key:"actions",width:"10%",render:(e,t)=>Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/tripDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})}],L=e=>{let{columns:t,data:a}=e;const c=t.map((e=>e.key)),[r,n]=Object(s.useState)(c);Object(s.useEffect)((()=>{n(c)}),[c]);const l=t.filter((e=>r.includes(e.key)));return Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:l,dataSource:a,pagination:{pageSize:5},className:"ant-border-space"})})};return Object(N.jsx)("div",{children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:12}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(nt,{placeholder:"Search Trips",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:T,onChange:e=>T(e.target.value)})})]}),Object(N.jsx)(x.a,{gutter:[16,16],children:Object(N.jsx)(o.a,{xs:24,xl:f?12:24,children:I?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(L,{columns:A,data:p})})})]})})},it=a(273),dt=a(503);const{Option:ot}=d.a;var jt=e=>{let{formData:t,setFormData:a,closeModal:c,refetchData:r}=e;const[n]=ve.a.useForm(),[l,i]=Object(s.useState)([]),[j,b]=Object(s.useState)([]),[h,m]=Object(s.useState)([]);Object(s.useEffect)((()=>{n.setFieldsValue(t)}),[t,n]);return Object(N.jsxs)(ve.a,{form:n,onFinish:async e=>{try{var s,n;let i;i=t.id?await fe.a.put("http://194.164.72.21:5001/companies/".concat(t.id),e):await fe.a.post("http://194.164.72.21:5001/companies",e),null!==(s=i)&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&n.id?(await(async e=>{const t=new FormData;l.forEach((e=>{let{originFileObj:a}=e;t.append("documents",a)})),j.forEach((e=>{let{originFileObj:a}=e;t.append("companyImage",a)})),h.forEach((e=>{let{originFileObj:a}=e;t.append("companyLicence",a)})),await fe.a.put(e,t,{headers:{"Content-Type":"multipart/form-data"}})})("http://194.164.72.21:5001/companies/updateDocuments/".concat(i.data.id),i.data.id),B.b.success("Company and documents uploaded successfully")):B.b.success("Company saved successfully"),a({}),c(),r()}catch(i){console.error("Error:",i),B.b.error("Failed to save company")}},layout:"vertical",children:[Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Company Name",name:"companyName",rules:[{required:!0,message:"Please enter a company name"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Contact Person",name:"contactPerson",rules:[{required:!0,message:"Please enter a contact person"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter a phone number"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please enter an address"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Balance",name:"balance",rules:[{required:!0,message:"Please enter a balance"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Credit Limit",name:"creditLimit",rules:[{required:!0,message:"Please enter a credit limit"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Start Date",name:"startDate",rules:[{required:!0,message:"Please enter a start date"}],children:Object(N.jsx)(ye.a,{type:"date"})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"End Date",name:"endDate",rules:[{required:!0,message:"Please enter an end date"}],children:Object(N.jsx)(ye.a,{type:"date"})})})]}),Object(N.jsx)(x.a,{gutter:16,children:Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Status",name:"status",children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)(ot,{value:"Pending",children:"Pending"}),Object(N.jsx)(ot,{value:"Active",children:"Active"}),Object(N.jsx)(ot,{value:"Inactive",children:"Inactive"})]})})})}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:8,children:Object(N.jsx)(ve.a.Item,{label:"Documents",rules:[{required:!1,message:"Please enter a phone number"}],name:"documents",children:Object(N.jsx)(V.a,{beforeUpload:()=>!1,fileList:l,onChange:e=>{let{fileList:t}=e;return i(t)},maxCount:3,children:Object(N.jsx)(q.a,{icon:Object(N.jsx)(dt.a,{}),children:"Click to Upload"})})})}),Object(N.jsx)(o.a,{span:8,children:Object(N.jsx)(ve.a.Item,{label:"Company Image",rules:[{required:!1,message:"Please enter a phone number"}],name:"companyImage",children:Object(N.jsx)(V.a,{beforeUpload:()=>!1,fileList:j,onChange:e=>{let{fileList:t}=e;return b(t)},maxCount:1,children:Object(N.jsx)(q.a,{icon:Object(N.jsx)(dt.a,{}),children:"Click to Upload"})})})}),Object(N.jsx)(o.a,{span:8,children:Object(N.jsx)(ve.a.Item,{label:"Company Licence",rules:[{required:!1,message:"Please enter a phone number"}],name:"companyLicence",children:Object(N.jsx)(V.a,{beforeUpload:()=>!1,fileList:h,onChange:e=>{let{fileList:t}=e;return m(t)},maxCount:1,children:Object(N.jsx)(q.a,{icon:Object(N.jsx)(dt.a,{}),children:"Click to Upload"})})})})]}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{htmlType:"button",onClick:()=>n.resetFields(),children:"Reset"})]})]})};const{TabPane:bt}=Re.a,{Search:ht}=ye.a;var mt=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,i]=Object(s.useState)(!1),[d,m]=Object(s.useState)([]),u=["companyName","contactPerson","phoneNumber","balance","creditLimit","status","actions"],[O,p]=Object(s.useState)([]),[g,y]=Object(s.useState)([]),[v,f]=Object(s.useState)(""),[S,w]=Object(s.useState)(null),[k,I]=Object(s.useState)(null),[C,D]=Object(s.useState)(!1),[P,F]=Object(s.useState)(!1),[T,E]=Object(s.useState)(!1),A=Object(l.f)();Object(s.useEffect)((()=>{m(u)}),[]),Object(s.useEffect)((()=>{L()}),[T]);const L=async()=>{try{F(!0);const e=await fe.a.get("http://194.164.72.21:5001/companies");p(e.data),y(e.data),F(!1)}catch(e){B.b.error("Unable to load data!"),F(!1)}},R=e=>{f(e);const t=O.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));y(t)},U=[{title:"Company Name",dataIndex:"companyName",key:"companyName"},{title:"Contact Person",dataIndex:"contactPerson",key:"contactPerson"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Balance",dataIndex:"balance",key:"balance"},{title:"Credit Limit",dataIndex:"creditLimit",key:"creditLimit"},{title:"Status",dataIndex:"status",key:"status"},{title:"Actions",key:"actions",render:(e,t)=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(Me.a,{}),onClick:()=>z(t),style:{marginRight:8},children:"Edit"}),Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/companyDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})]})}],z=e=>{c(e),t(!0)},M=()=>Object(N.jsx)(h.a.Group,{options:U.map((e=>({label:e.title,value:e.key}))),value:d,onChange:e=>m(e)}),K=e=>{let{columns:t,data:a,onRow:c}=e;const r=t.map((e=>e.key)).slice(0,7),[n,l]=Object(s.useState)(r),i=t.filter((e=>n.includes(e.key)));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Oe.a,{overlay:Object(N.jsx)(M,{columns:t.map((e=>({label:e.title,value:e.key}))),selectedColumns:r,onChange:e=>{l(e)}}),trigger:["click"],children:Object(N.jsxs)(q.a,{children:["Select Columns ",Object(N.jsx)(Ye.a,{})]})}),Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:i,dataSource:a,pagination:{pageSize:5},className:"ant-border-space",onRow:c})})]})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:12,style:{textAlign:"left"},children:Object(N.jsx)(q.a,{type:"primary",icon:Object(N.jsx)(it.a,{}),onClick:()=>{c({}),t(!0)},children:"Add Company"})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ht,{placeholder:"Search Companies",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:R,onChange:e=>R(e.target.value)})})]}),Object(N.jsxs)(x.a,{gutter:[16,16],children:[Object(N.jsx)(o.a,{xs:24,xl:k?12:24,children:P?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(K,{onRow:e=>({onClick:()=>(e=>{I(e),D(!0)})(e)}),columns:U,data:g,pagination:{pageSize:5}})}),Object(N.jsx)(o.a,{xs:24,xl:12,children:k&&Object(N.jsx)("div",{className:"tabled",children:Object(N.jsx)(Re.a,{defaultActiveKey:"1",children:Object(N.jsx)(bt,{tab:"Details",children:Object(N.jsxs)(j.a,{title:"Details of ".concat(k.companyName),style:{height:"500px",overflow:"auto"},headStyle:{position:"sticky",top:"0",zIndex:"1",background:"#fff"},extra:Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(N.jsx)(q.a,{type:"link",onClick:()=>{I(null),D(!1)},style:{color:"red"},children:"Close"}),Object(N.jsx)(q.a,{type:"link",onClick:()=>A.push("/companyDetails/".concat(k.id)),style:{color:"green"},children:"Details"})]}),children:[Object(N.jsxs)("p",{children:["Contact Person: ",k.contactPerson]}),Object(N.jsxs)("p",{children:["Phone Number: ",k.phoneNumber]}),Object(N.jsxs)("p",{children:["Balance: ",k.balance]}),Object(N.jsxs)("p",{children:["Credit Limit: ",k.creditLimit]}),Object(N.jsxs)("p",{children:["Status: ",k.status]}),Object(N.jsxs)("p",{children:["Address: ",k.address]}),Object(N.jsxs)("p",{children:["Start Date: ",new Date(k.startDate).toLocaleDateString()]}),Object(N.jsxs)("p",{children:["End Date: ",new Date(k.endDate).toLocaleDateString()]})]})},"1")})})})]})]}),Object(N.jsx)(b.a,{title:a.id?"Edit Company":"Add Company",visible:e,onCancel:()=>t(!1),footer:null,width:800,children:Object(N.jsx)(jt,{formData:a,setFormData:c,closeModal:()=>t(!1),setSubmitted:E})})]})};const{Search:ut}=ye.a;var Ot=()=>{const[e,t]=Object(s.useState)({}),[a,c]=Object(s.useState)(!1),[r,i]=Object(s.useState)([]),d=["id","from","to","pickUpTime","distance","price","status","driverName","driverPhone","actions"],[b,h]=Object(s.useState)([]),[m,u]=Object(s.useState)([]),[p,g]=Object(s.useState)(""),[y,v]=Object(s.useState)(null),[f,S]=Object(s.useState)(!1),[w,k]=Object(s.useState)(!1),[I,C]=Object(s.useState)(!1);Object(l.f)();Object(s.useEffect)((()=>{i(d)}),[]),Object(s.useEffect)((()=>{D()}),[I]);const D=async()=>{try{k(!0);const e=await fe.a.get("http://194.164.72.21:5001/reservations");h(e.data),u(e.data),k(!1)}catch(e){B.b.error("Unable to load data!"),k(!1)}},P=e=>{g(e);const t=b.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));u(t)},F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const a=e.length>t?e.substring(0,t)+"...":e;return Object(N.jsx)(O.a,{title:e,children:Object(N.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"},children:a})})},T=[{title:"Trip ID",dataIndex:"id",key:"id",width:"5%",render:e=>F(e,10)},{title:"Driver Name",dataIndex:["driver","firstName"],key:"driverName",width:"10%",render:(e,t)=>F(t.driver?"".concat(t.driver.firstName," ").concat(t.driver.lastName):"N/A",10)},{title:"Passenger Name",dataIndex:"passengerId",key:"passengerId",width:"10%",render:(e,t)=>F(t.passenger?"".concat(t.passenger.firstName," ").concat(t.passenger.lastName):"N/A",10)},{title:"Start Location",dataIndex:"from",key:"from",width:"10%",render:e=>F(e,10)},{title:"End Location",dataIndex:"to",key:"to",width:"10%",render:e=>F(e,10)},{title:"Date",dataIndex:"pickUpDate",key:"pickUpDate",width:"10%",render:e=>F(e?new Date(e).toLocaleString():"N/A",15)},{title:"Distance",dataIndex:"distance",key:"distance",width:"10%",render:e=>F(e,10)},{title:"Price",dataIndex:"price",key:"price",width:"10%",render:e=>F(e,10)},{title:"Status",dataIndex:"status",key:"status",width:"10%",render:e=>{let t="";switch(e){case"Started":t="darkgreen";break;case"Accepted":t="darkorange";break;case"Pending":t="darkred";break;default:t="gray"}return Object(N.jsx)(O.a,{title:e.toUpperCase(),children:Object(N.jsx)(Ue.a,{color:t,children:F(e.toUpperCase(),10)})})}},{title:"Actions",key:"actions",width:"10%",render:(e,t)=>Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/reservationDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})}],E=e=>{let{columns:t,data:a}=e;const c=t.map((e=>e.key)),[r,n]=Object(s.useState)(c);Object(s.useEffect)((()=>{n(c)}),[c]);const l=t.filter((e=>r.includes(e.key)));return Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:l,dataSource:a,pagination:{pageSize:5},className:"ant-border-space"})})};return Object(N.jsx)("div",{children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:12}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ut,{placeholder:"Search Trips",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:P,onChange:e=>P(e.target.value)})})]}),Object(N.jsx)(x.a,{gutter:[16,16],children:Object(N.jsx)(o.a,{xs:24,xl:y?12:24,children:w?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(E,{columns:T,data:m})})})]})})};const{Option:xt}=d.a;var pt=e=>{let{formData:t,setFormData:a,closeModal:c,setSubmitted:r}=e;const[n]=ve.a.useForm(),[l,i]=Object(s.useState)([]),[j,b]=Object(s.useState)([]);Object(s.useEffect)((()=>{h(),m()}),[]),Object(s.useEffect)((()=>{t&&n.setFieldsValue({...t,driverId:t.driverId})}),[t,n]);const h=async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/vehicleTypes");i(e.data)}catch(e){B.b.error("Unable to load vehicle types")}},m=async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/drivers");if(b(e.data),t&&t.driverId){const a=e.data.find((e=>e.id===t.driverId));a&&n.setFieldsValue({...t,driverId:a.id})}}catch(e){B.b.error("Unable to load drivers")}};return Object(N.jsxs)(ve.a,{form:n,onFinish:async e=>{const s=new FormData;Object.keys(e).forEach((t=>{s.append(t,e[t])}));try{let e;e=t.id?await fe.a.put("http://194.164.72.21:5001/vehicles/".concat(t.id),s,{headers:{"Content-Type":"multipart/form-data"}}):await fe.a.post("http://194.164.72.21:5001/vehicles",s,{headers:{"Content-Type":"multipart/form-data"}}),e.data.id?B.b.success("Vehicle and documents uploaded successfully"):B.b.success("Vehicle saved successfully"),a({}),c(),r(!0)}catch(n){console.error("Error:",n),B.b.error("Failed to save vehicle")}},layout:"vertical",children:[Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Plate Number",name:"plateNumber",rules:[{required:!0,message:"Please enter a plate number"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Model",name:"model",rules:[{required:!0,message:"Please enter a model"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Color",name:"color",rules:[{required:!0,message:"Please enter a color"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Manufactured Year",rules:[{required:!0,message:"Please enter a year"}],name:"manufacturedYear",children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Vehicle Type",name:"vehicleTypeId",rules:[{required:!0,message:"Please select a vehicle type"}],children:Object(N.jsx)(d.a,{children:l.map((e=>Object(N.jsx)(xt,{value:e.id,children:e.typeName},e.id)))})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Driver",name:"driverId",rules:[{required:!0,message:"Please select a driver"}],children:Object(N.jsx)(d.a,{children:j.map((e=>Object(N.jsx)(xt,{value:e.id,children:"".concat(e.firstName," ").concat(e.lastName)},e.id)))})})})]}),Object(N.jsx)(x.a,{gutter:16,children:Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Status",name:"status",children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)(xt,{value:"Pending",children:"Pending"}),Object(N.jsx)(xt,{value:"Active",children:"Active"}),Object(N.jsx)(xt,{value:"Inactive",children:"Inactive"})]})})})}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{htmlType:"button",onClick:()=>n.resetFields(),children:"Reset"})]})]})};const{TabPane:gt}=Re.a,{Search:yt}=ye.a;var vt=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,i]=Object(s.useState)(!1),[d,h]=Object(s.useState)([]),m=["plateNumber","model","color","driver","vehicleType","actions"],[u,O]=Object(s.useState)([]),[p,g]=Object(s.useState)([]),[y,v]=Object(s.useState)(""),[f,S]=Object(s.useState)(null),[w,k]=Object(s.useState)(!1),[I,C]=Object(s.useState)(!1),[D,P]=Object(s.useState)(!1),F=Object(l.f)();Object(s.useEffect)((()=>{h(m)}),[]),Object(s.useEffect)((()=>{T()}),[D]);const T=async()=>{try{C(!0);const e=await fe.a.get("http://194.164.72.21:5001/vehicles");O(e.data),g(e.data),C(!1)}catch(e){B.b.error("Unable to load data!"),C(!1)}},E=e=>{v(e);const t=u.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));g(t)},A=[{title:"Plate Number",dataIndex:"plateNumber",key:"plateNumber",width:"20%"},{title:"Model",dataIndex:"model",key:"model",width:"20%"},{title:"Color",dataIndex:"color",key:"color",width:"20%"},{title:"Driver",dataIndex:["driver","firstName"],width:"20%",key:"driver",render:(e,t)=>t.driver?"".concat(t.driver.firstName," ").concat(t.driver.lastName):"N/A"},{title:"Status",dataIndex:"status",key:"status",width:"10%"},{title:"Actions",key:"actions",render:(e,t)=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(Me.a,{}),onClick:()=>L(t),style:{marginRight:8},children:"Edit"}),Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/vehicleDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})]})}],L=e=>{c(e),t(!0)},R=e=>{let{columns:t,data:a,onRow:s}=e;const c=t.filter((e=>d.includes(e.key)));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:c,dataSource:a,pagination:{pageSize:5},className:"ant-border-space",onRow:s,rowKey:"id"})})})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:12,style:{textAlign:"left"},children:Object(N.jsx)(q.a,{type:"primary",icon:Object(N.jsx)(it.a,{}),onClick:()=>{c({}),t(!0)},children:"Add Vehicle"})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(yt,{placeholder:"Search Vehicles",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:E,onChange:e=>E(e.target.value)})})]}),Object(N.jsxs)(x.a,{gutter:[16,16],children:[Object(N.jsx)(o.a,{xs:24,xl:f?12:24,children:I?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(R,{onRow:e=>({}),columns:A,data:p})}),Object(N.jsx)(o.a,{xs:24,xl:12,children:f&&Object(N.jsx)("div",{className:"tabled",children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(gt,{tab:"Details",children:Object(N.jsxs)(j.a,{title:"Details of ".concat(f.plateNumber),style:{height:"500px",overflow:"auto"},headStyle:{position:"sticky",top:"0",zIndex:"1",background:"#fff"},extra:Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(N.jsx)(q.a,{type:"link",onClick:()=>{S(null),k(!1)},style:{color:"red"},children:"Close"}),Object(N.jsx)(q.a,{type:"link",onClick:()=>F.push("/vehicleDetails/".concat(f.id)),style:{color:"green"},children:"Details"})]}),children:[Object(N.jsxs)("p",{children:["Plate Number: ",f.plateNumber]}),Object(N.jsxs)("p",{children:["Model: ",f.model]}),Object(N.jsxs)("p",{children:["Color: ",f.color]}),Object(N.jsxs)("p",{children:["Driver ID: ",f.driverId]}),Object(N.jsxs)("p",{children:["Status: ",f.status]}),f.vehicleType&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("p",{children:["Vehicle Type: ",f.vehicleType.typeName]}),Object(N.jsxs)("p",{children:["Price Per KM: ",f.vehicleType.pricePerKM]}),Object(N.jsxs)("p",{children:["Surge Price Per KM: ",f.vehicleType.surgePricePerKM]})]}),f.driver&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("p",{children:["Driver Name: ",f.driver.firstName," ",f.driver.lastName]}),Object(N.jsxs)("p",{children:["Phone Number: ",f.driver.phoneNumber]}),Object(N.jsxs)("p",{children:["Email: ",f.driver.email]}),Object(N.jsxs)("p",{children:["Address: ",f.driver.address]}),Object(N.jsxs)("p",{children:["Status: ",f.driver.status]})]})]})},"1"),Object(N.jsx)(gt,{tab:"File Preview",children:Object(N.jsxs)(j.a,{bordered:!1,className:"header-solid h-full",children:[Object(N.jsx)("h4",{children:"Vehicle Preview:"}),Object(N.jsx)("div",{style:{width:"100%",height:"400px"},children:Object(N.jsx)(Ge.b,{pluginRenderers:Ge.a,documents:f.documents?["http://194.164.72.21:5001".concat(f.documents)]:[],config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1}},style:{height:400}})})]})},"2")]})})})]})]}),Object(N.jsx)(b.a,{title:a.id?"Edit Vehicle":"Add Vehicle",visible:e,onCancel:()=>t(!1),footer:null,width:800,children:Object(N.jsx)(pt,{formData:a,setFormData:c,closeModal:()=>t(!1),setSubmitted:P})})]})};const{Option:ft}=d.a;var St=e=>{let{formData:t,setFormData:a,closeModal:c,setSubmitted:r}=e;const[n]=ve.a.useForm(),[l,i]=Object(s.useState)([]);Object(s.useEffect)((()=>{n.setFieldsValue(t)}),[t,n]),Object(s.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/vehicleTypes");i(e.data)}catch(e){B.b.error("Unable to load vehicle types")}};return Object(N.jsxs)(ve.a,{form:n,onFinish:async e=>{const t=new FormData;Object.keys(e).forEach((a=>{t.append(a,e[a])}));try{let e;e=t.id?await fe.a.put("http://194.164.72.21:5001/vehicleTypes/".concat(t.id),t,{headers:{"Content-Type":"multipart/form-data"}}):await fe.a.post("http://194.164.72.21:5001/vehicleTypes",t,{headers:{"Content-Type":"multipart/form-data"}}),e.data.id?B.b.success("Vehicle and documents uploaded successfully"):B.b.success("Vehicle saved successfully"),a({}),c(),r(!0)}catch(s){console.error("Error:",s),B.b.error("Failed to save vehicleTypes")}},layout:"vertical",children:[Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Type Name",name:"typeName",rules:[{required:!0,message:"Please enter type name"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Price Per KM",name:"pricePerKM",rules:[{required:!0,message:"Please enter pricePerKM"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsx)(x.a,{gutter:16,children:Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Surge Price Per KM",name:"surgePricePerKM",rules:[{required:!0,message:"Please enter SurgePricePerKM"}],children:Object(N.jsx)(ye.a,{})})})}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{htmlType:"button",onClick:()=>n.resetFields(),children:"Reset"})]})]})};const{TabPane:wt}=Re.a,{Search:Nt}=ye.a;var kt=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,n]=Object(s.useState)(!1),[i,d]=Object(s.useState)([]),m=["typeName","surgePricePerKM","pricePerKM","actions"],[u,O]=Object(s.useState)([]),[p,g]=Object(s.useState)([]),[y,v]=Object(s.useState)(""),[f,S]=Object(s.useState)(null),[w,k]=Object(s.useState)(!1),[I,C]=Object(s.useState)(!1),[D,P]=Object(s.useState)(!1);Object(l.f)();Object(s.useEffect)((()=>{d(m)}),[]),Object(s.useEffect)((()=>{F()}),[D]);const F=async()=>{try{C(!0);const e=await fe.a.get("http://194.164.72.21:5001/vehicleTypes");O(e.data),g(e.data),C(!1)}catch(e){B.b.error("Unable to load data!"),C(!1)}},T=e=>{v(e);const t=u.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));g(t)},E=[{title:"Name",dataIndex:"typeName",key:"typeName"},{title:"Price Per KM",dataIndex:"pricePerKM",key:"pricePerKM"},{title:"Surge Price Per KM",dataIndex:"surgePricePerKM",key:"surgePricePerKM"},{title:"Actions",key:"actions",render:(e,t)=>Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(Me.a,{}),onClick:()=>A(t),style:{marginRight:8},children:"Edit"})})}],A=e=>{c(e),t(!0)},L=()=>Object(N.jsx)(h.a.Group,{options:E.map((e=>({label:e.title,value:e.key}))),value:i,onChange:e=>d(e)}),R=e=>{let{columns:t,data:a,onRow:s}=e;const c=t.filter((e=>i.includes(e.key)));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Oe.a,{overlay:Object(N.jsx)(L,{columns:t.map((e=>({label:e.title,value:e.key}))),selectedColumns:i,onChange:d}),trigger:["click"],children:Object(N.jsxs)(q.a,{children:["Select Columns ",Object(N.jsx)(Ye.a,{})]})}),Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:c,dataSource:a,pagination:{pageSize:5},className:"ant-border-space",onRow:s,rowKey:"id"})})]})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:12,style:{textAlign:"left"},children:Object(N.jsx)(q.a,{type:"primary",icon:Object(N.jsx)(it.a,{}),onClick:()=>{c({}),t(!0)},children:"Add Vehicle Type"})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(Nt,{placeholder:"Search Vehicles",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:T,onChange:e=>T(e.target.value)})})]}),Object(N.jsx)(x.a,{gutter:[16,16],children:Object(N.jsx)(o.a,{xs:24,xl:f?12:24,children:I?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(R,{onRow:e=>({onClick:()=>(e=>{S(e),k(!0)})(e)}),columns:E,data:p})})})]}),Object(N.jsx)(b.a,{title:a.id?"Edit Vehicle":"Add Vehicle",visible:e,onCancel:()=>t(!1),footer:null,width:800,children:Object(N.jsx)(St,{formData:a,setFormData:c,closeModal:()=>t(!1),setSubmitted:P})})]})};const{Option:It}=d.a;var Ct=e=>{let{formData:t,setFormData:a,closeModal:c,setSubmitted:r}=e;const[n]=ve.a.useForm(),[l,i]=Object(s.useState)([]);Object(s.useEffect)((()=>{n.setFieldsValue(t)}),[t,n]),Object(s.useEffect)((()=>{d()}),[]);const d=async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/initialPrices");i(e.data)}catch(e){B.b.error("Unable to load vehicle types")}};return Object(N.jsxs)(ve.a,{form:n,onFinish:async e=>{const t=new FormData;Object.keys(e).forEach((a=>{t.append(a,e[a])}));try{let e;e=t.id?await fe.a.put("http://194.164.72.21:5001/initialPrices/".concat(t.id),t,{headers:{"Content-Type":"multipart/form-data"}}):await fe.a.post("http://194.164.72.21:5001/initialPrices",t,{headers:{"Content-Type":"multipart/form-data"}}),e.data.id?B.b.success("Vehicle and documents uploaded successfully"):B.b.success("Vehicle saved successfully"),a({}),c(),r(!0)}catch(s){console.error("Error:",s),B.b.error("Failed to save initialPrices")}},layout:"vertical",children:[Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter type name"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Amount",name:"amount",rules:[{required:!0,message:"Please enter amount"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsx)(x.a,{gutter:16,children:Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please enter Status"}],children:Object(N.jsx)(ye.a,{})})})}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{htmlType:"button",onClick:()=>n.resetFields(),children:"Reset"})]})]})};const{TabPane:Dt}=Re.a,{Search:Pt}=ye.a;var Ft=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,n]=Object(s.useState)(!1),[i,d]=Object(s.useState)([]),m=["name","amount","status","actions"],[u,O]=Object(s.useState)([]),[p,g]=Object(s.useState)([]),[y,v]=Object(s.useState)(""),[f,S]=Object(s.useState)(null),[w,k]=Object(s.useState)(!1),[I,C]=Object(s.useState)(!1),[D,P]=Object(s.useState)(!1);Object(l.f)();Object(s.useEffect)((()=>{d(m)}),[]),Object(s.useEffect)((()=>{F()}),[D]);const F=async()=>{try{C(!0);const e=await fe.a.get("http://194.164.72.21:5001/initialPrices");O(e.data),g(e.data),C(!1)}catch(e){B.b.error("Unable to load data!"),C(!1)}},T=e=>{v(e);const t=u.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));g(t)},E=[{title:"Name",dataIndex:"name",key:"name"},{title:"amount",dataIndex:"amount",key:"amount"},{title:"Status",dataIndex:"status",key:"status"},{title:"Actions",key:"actions",render:(e,t)=>Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(Me.a,{}),onClick:()=>A(t),style:{marginRight:8},children:"Edit"})})}],A=e=>{c(e),t(!0)},L=()=>Object(N.jsx)(h.a.Group,{options:E.map((e=>({label:e.title,value:e.key}))),value:i,onChange:e=>d(e)}),R=e=>{let{columns:t,data:a,onRow:s}=e;const c=t.filter((e=>i.includes(e.key)));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Oe.a,{overlay:Object(N.jsx)(L,{columns:t.map((e=>({label:e.title,value:e.key}))),selectedColumns:i,onChange:d}),trigger:["click"],children:Object(N.jsxs)(q.a,{children:["Select Columns ",Object(N.jsx)(Ye.a,{})]})}),Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:c,dataSource:a,pagination:{pageSize:5},className:"ant-border-space",onRow:s,rowKey:"id"})})]})};return Object(N.jsxs)("div",{children:[Object(N.jsxs)(j.a,{children:[Object(N.jsx)(x.a,{gutter:[24,0],children:Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(Pt,{placeholder:"Search Vehicles",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:T,onChange:e=>T(e.target.value)})})}),Object(N.jsx)(x.a,{gutter:[16,16],children:Object(N.jsx)(o.a,{xs:24,xl:f?12:24,children:I?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(R,{onRow:e=>({onClick:()=>(e=>{S(e),k(!0)})(e)}),columns:E,data:p})})})]}),Object(N.jsx)(b.a,{title:a.id?"Edit Vehicle":"Add Vehicle",visible:e,onCancel:()=>t(!1),footer:null,width:800,children:Object(N.jsx)(Ct,{formData:a,setFormData:c,closeModal:()=>t(!1),setSubmitted:P})})]})};const{Search:Tt}=ye.a;var Et=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,i]=Object(s.useState)(!1),[d,b]=Object(s.useState)([]),h=["id","from","to","pickUpTime","distance","price","status","driverName","driverPhone","actions"],[m,u]=Object(s.useState)([]),[O,p]=Object(s.useState)([]),[g,y]=Object(s.useState)(""),[v,f]=Object(s.useState)(null),[S,w]=Object(s.useState)(!1),[k,I]=Object(s.useState)(!1),[C,D]=Object(s.useState)(!1);Object(l.f)();Object(s.useEffect)((()=>{b(h)}),[]),Object(s.useEffect)((()=>{P()}),[C]);const P=async()=>{try{I(!0);const e=await fe.a.get("http://194.164.72.21:5001/trips");u(e.data),p(e.data),I(!1)}catch(e){B.b.error("Unable to load data!"),I(!1)}},F=e=>{y(e);const t=m.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));p(t)},T=[{title:"Trip ID",dataIndex:"id",key:"id",width:"10%"},{title:"Driver Name",dataIndex:["driver","firstName"],key:"driverName",width:"10%",render:(e,t)=>"".concat(t.driver.firstName," ").concat(t.driver.lastName)},{title:"Passenger Name",dataIndex:["passenger","passengerName"],key:"driverName",width:"10%",render:(e,t)=>"".concat(t.passenger.firstName," ").concat(t.passenger.lastName)},{title:"Price",dataIndex:"price",key:"price",width:"10%"},{title:"Date",dataIndex:"pickUpTime",key:"pickUpTime",width:"10%",render:e=>new Date(e).toLocaleString()},{title:"Payment Method",dataIndex:"paymentMethod",width:"10%",key:"paymentMethod",render:e=>e||"Cash"},{title:"Actions",key:"actions",width:"10%",render:(e,t)=>Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/tripDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})})}],E=e=>{let{columns:t,data:a}=e;const c=t.map((e=>e.key)),[r,n]=Object(s.useState)(c);Object(s.useEffect)((()=>{n(c)}),[c]);const l=t.filter((e=>r.includes(e.key)));return Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:l,dataSource:a,pagination:{pageSize:5},className:"ant-border-space"})})};return Object(N.jsx)("div",{children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:12}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(Tt,{placeholder:"Search Trips",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:F,onChange:e=>F(e.target.value)})})]}),Object(N.jsx)(x.a,{gutter:[16,16],children:Object(N.jsx)(o.a,{xs:24,xl:v?12:24,children:k?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(E,{columns:T,data:O})})})]})})};const{Option:At}=d.a;var Lt=e=>{let{formData:t,setFormData:a,closeModal:c,setSubmitted:r}=e;const[n]=ve.a.useForm();Object(s.useEffect)((()=>{n.setFieldsValue(t)}),[t,n]);return Object(N.jsxs)(ve.a,{form:n,onFinish:async e=>{try{const s={...t,...e};await fe.a.put("http://194.164.72.21:5001/searchRadius/".concat(t.id),s,{headers:{"Content-Type":"application/json"}});a({}),c(),r(!0),B.b.success("Search Radius updated successfully")}catch(s){console.error("Error:",s),B.b.error("Failed to save search radius")}},layout:"vertical",children:[Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter type name"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Distance",name:"distance",rules:[{required:!0,message:"Please enter distance"}],children:Object(N.jsx)(ye.a,{})})})]}),Object(N.jsx)(x.a,{gutter:16,children:Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please enter Status"}],children:Object(N.jsx)(ye.a,{})})})}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{htmlType:"button",onClick:()=>n.resetFields(),children:"Reset"})]})]})};const{TabPane:Rt}=Re.a,{Search:Bt}=ye.a;var Ut=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,n]=Object(s.useState)(!1),[i,d]=Object(s.useState)([]),h=["name","distance","status","actions"],[m,u]=Object(s.useState)([]),[p,g]=Object(s.useState)([]),[y,v]=Object(s.useState)(""),[f,S]=Object(s.useState)(null),[w,k]=Object(s.useState)(!1),[I,C]=Object(s.useState)(!1),[D,P]=Object(s.useState)(!1);Object(l.f)();Object(s.useEffect)((()=>{d(h)}),[]),Object(s.useEffect)((()=>{F()}),[D]);const F=async()=>{try{C(!0);const e=await fe.a.get("http://194.164.72.21:5001/searchRadius");u(e.data),g(e.data),C(!1)}catch(e){B.b.error("Unable to load data!"),C(!1)}},T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const a=e.length>t?e.substring(0,t)+"...":e;return Object(N.jsx)(O.a,{title:e,children:Object(N.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"},children:a})})},E=[{title:"Name",dataIndex:"name",key:"name"},{title:"distance",dataIndex:"distance",key:"distance"},{title:"Status",dataIndex:"status",key:"status",width:"10%",render:e=>{let t="";switch(e){case"Ended":t="darkgreen";break;case"Accepted":t="darkorange";break;case"Pending":t="darkred";break;default:t="gray"}return Object(N.jsx)(O.a,{title:e.toUpperCase(),children:Object(N.jsx)(Ue.a,{color:t,children:T(e.toUpperCase(),10)})})}},{title:"Actions",key:"actions",render:(e,t)=>Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(q.a,{type:"link",icon:Object(N.jsx)(Me.a,{}),onClick:()=>A(t),style:{marginRight:8},children:"Edit"})})}],A=e=>{c(e),t(!0)},L=e=>{let{columns:t,data:a,onRow:s}=e;const c=t.filter((e=>i.includes(e.key)));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:c,dataSource:a,pagination:{pageSize:5},className:"ant-border-space",onRow:s,rowKey:"id"})})})};return Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{children:Object(N.jsx)(x.a,{gutter:[16,16],children:Object(N.jsx)(o.a,{xs:24,xl:f?12:24,children:I?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(L,{onRow:e=>({onClick:()=>(e=>{S(e),k(!0)})(e)}),columns:E,data:p})})})}),Object(N.jsx)(b.a,{title:(a.id,"Edit Search Radius"),visible:e,onCancel:()=>t(!1),footer:null,width:800,children:Object(N.jsx)(Lt,{formData:a,setFormData:c,closeModal:()=>t(!1),setSubmitted:P})})]})},zt=a(483),qt=a(504);const{Panel:Mt}=zt.a,{TabPane:Kt}=Re.a,{Search:Vt}=ye.a;var _t=function(){const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)([]),[r,i]=Object(s.useState)(!1),[d,h]=Object(s.useState)(""),[m,u]=Object(s.useState)(""),{id:p}=Object(l.h)(),{data:g,loading:y,postFormData:v,putFormData:f}=_e("drivers/".concat(p)),{data:S,loading:w}=_e("trips/driver/".concat(p)),k=(null===S||void 0===S?void 0:S.trips.map((e=>({...e.trip,passenger:e.passenger,driver:e.driver}))))||[],I=null===g||void 0===g?void 0:g.driver,C=e=>(c([e]),!1),D=async e=>{if(!a.length)return void B.b.warning("Please select a file to upload.");const t=new FormData;t.append(e,a[0]);try{await f(t,"drivers/updateDocuments/".concat(p)),B.b.success("".concat(e," uploaded successfully!")),c([])}catch(s){B.b.error("Failed to upload ".concat(e)),c([])}},P=k.filter((e=>{const t=m.toLowerCase();return e.from.toLowerCase().includes(t)||e.to.toLowerCase().includes(t)||e.status.toLowerCase().includes(t)||e.passenger.firstName.toLowerCase().includes(t)||e.passenger.lastName.toLowerCase().includes(t)})),F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const a=e.length>t?e.substring(0,t)+"...":e;return Object(N.jsx)(O.a,{title:e,children:Object(N.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"},children:a})})},T=[{title:"Trip ID",dataIndex:"id",key:"id",width:"5%",render:e=>F(e,10)},{title:"Passenger Name",dataIndex:"passengerId",key:"passengerId",width:"10%",render:(e,t)=>F(t.passenger?"".concat(t.passenger.firstName," ").concat(t.passenger.lastName):"N/A",15)},{title:"Start Location",dataIndex:"from",key:"from",width:"10%",render:e=>F(e,15)},{title:"End Location",dataIndex:"to",key:"to",width:"10%",render:e=>F(e,15)},{title:"Date",dataIndex:"pickUpTime",key:"pickUpTime",width:"10%",render:e=>F(e||"N/A",10)},{title:"Distance",dataIndex:"distance",key:"distance",width:"10%",render:e=>F(e,10)},{title:"Price",dataIndex:"price",key:"price",width:"10%",render:e=>F(e,10)},{title:"Status",dataIndex:"status",key:"status",width:"20%",render:e=>{let t="";switch(e){case"Completed":t="darkgreen";break;case"Active":t="darkorange";break;case"Inactive":t="darkred";break;default:t="gray"}return Object(N.jsx)(Ue.a,{color:t,children:e.toUpperCase()})}},{title:"Actions",key:"actions",width:"10%",render:(e,t)=>Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/tripDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})}],E=(e,t)=>e?Object(N.jsx)("img",{src:"http://194.164.72.21:5001".concat(e),alt:t,style:{width:"100%",height:"400px",objectFit:"cover",marginBottom:"10px",cursor:"pointer"},onClick:()=>(e=>{h(e),i(!0)})("http://194.164.72.21:5001".concat(e))}):Object(N.jsx)(U.a,{shape:"square",icon:Object(N.jsx)(xe.a,{}),style:{width:"100%",height:"400px",marginBottom:"10px"}});return Object(N.jsxs)(N.Fragment,{children:[y||w?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(Kt,{tab:"Driver Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)("div",{style:{height:"100%"},children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"First Name",span:3,children:I&&I.firstName}),Object(N.jsx)(M.b.Item,{label:"Last Name",span:3,children:I&&I.lastName}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:I&&I.phoneNumber}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:I&&Object(N.jsx)(Ue.a,{color:"Active"===I.status?"darkgreen":"Pending"===I.status?"darkorange":"Inactive"===I.status?"darkred":"gray",children:I.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Rating",span:3,children:I&&Object(N.jsx)(Be.a,{disabled:!0,value:I.rating})})]})})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Documents"}),children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsxs)(Kt,{tab:"Driver Image",children:[E(null===I||void 0===I?void 0:I.driverImage,"Driver Image"),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)(V.a,{beforeUpload:C,fileList:a,maxCount:1,accept:".docx,.pdf, .png, .jpg, .jpeg",children:Object(N.jsx)(q.a,{type:"dashed",className:"ant-full-box",icon:Object(N.jsx)(qt.a,{}),children:"Upload Driver Image"})}),Object(N.jsx)(q.a,{onClick:()=>D("driverImage"),hidden:!a.length,children:"Submit"})]})]},"1"),Object(N.jsxs)(Kt,{tab:"Documents",children:[E(null===I||void 0===I?void 0:I.documents,"Driver Documents"),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)(V.a,{beforeUpload:C,fileList:a,maxCount:1,accept:".docx,.pdf, .png, .jpg, .jpeg",children:Object(N.jsx)(q.a,{type:"dashed",className:"ant-full-box",icon:Object(N.jsx)(qt.a,{}),children:"Upload Documents"})}),Object(N.jsx)(q.a,{onClick:()=>D("documents"),hidden:!a.length,children:"Submit"})]})]},"2"),Object(N.jsxs)(Kt,{tab:"Driver Licence",children:[E(null===I||void 0===I?void 0:I.driverLicence,"Driver Licence"),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)(V.a,{beforeUpload:C,fileList:a,maxCount:1,accept:".docx,.pdf, .png, .jpg, .jpeg",children:Object(N.jsx)(q.a,{type:"dashed",className:"ant-full-box",icon:Object(N.jsx)(qt.a,{}),children:"Upload Driver Licence"})}),Object(N.jsx)(q.a,{onClick:()=>D("driverLicence"),hidden:!a.length,children:"Submit"})]})]},"3")]})})})]})},"1"),Object(N.jsx)(Kt,{tab:"Trips",children:Object(N.jsx)(x.a,{gutter:[24,0],children:Object(N.jsx)(o.a,{span:24,className:"mb-24",children:Object(N.jsxs)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Trips"}),className:"header-solid h-full",bodyStyle:{paddingTop:0,paddingBottom:16},children:[Object(N.jsx)(Vt,{placeholder:"Search trips",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onChange:e=>u(e.target.value),style:{marginBottom:16}}),Object(N.jsx)(ze.a,{columns:T,dataSource:P,rowKey:"id"})]})})})},"2")]}),Object(N.jsx)(b.a,{visible:r,title:"Image Preview",footer:null,onCancel:()=>i(!1),children:Object(N.jsx)("img",{alt:"Preview",style:{width:"100%"},src:d})})]})};const{Panel:Wt}=zt.a,{TabPane:Ht}=Re.a,{Search:Gt}=ye.a;var Jt=function(){const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)([]),[r,i]=Object(s.useState)(!1),[d,h]=Object(s.useState)(""),[m,u]=Object(s.useState)(""),{id:p}=Object(l.h)(),{data:g,loading:y,postFormData:v}=_e("passengers/".concat(p)),{data:f,loading:S}=_e("trips/passenger/".concat(p)),w=(null===f||void 0===f?void 0:f.trips.map((e=>({...e.trip,passenger:e.passenger,driver:e.driver}))))||[],k=null===g||void 0===g?void 0:g.passenger,I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;const a=e.length>t?e.substring(0,t)+"...":e;return Object(N.jsx)(O.a,{title:e,children:Object(N.jsx)("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"},children:a})})},C=null===w||void 0===w?void 0:w.filter((e=>{const t=m.toLowerCase();return e.from.toLowerCase().includes(t)||e.to.toLowerCase().includes(t)||e.status.toLowerCase().includes(t)||e.passenger.firstName.toLowerCase().includes(t)||e.passenger.lastName.toLowerCase().includes(t)})),D=[{title:"Trip ID",dataIndex:"id",key:"id",width:"5%",render:e=>I(e,10)},{title:"Passenger Name",dataIndex:"passengerId",key:"passengerId",width:"10%",render:(e,t)=>I(t.passenger?"".concat(t.passenger.firstName," ").concat(t.passenger.lastName):"N/A",15)},{title:"Start Location",dataIndex:"from",key:"from",width:"10%",render:e=>I(e,15)},{title:"End Location",dataIndex:"to",key:"to",width:"10%",render:e=>I(e,15)},{title:"Date",dataIndex:"pickUpTime",key:"pickUpTime",width:"10%",render:e=>I(e||"N/A",10)},{title:"Distance",dataIndex:"distance",key:"distance",width:"10%",render:e=>I(e,10)},{title:"Price",dataIndex:"price",key:"price",width:"10%",render:e=>I(e,10)},{title:"Status",dataIndex:"status",key:"status",width:"20%",render:e=>{let t="";switch(e){case"Completed":t="darkgreen";break;case"Active":t="darkorange";break;case"Inactive":t="darkred";break;default:t="gray"}return Object(N.jsx)(Ue.a,{color:t,children:e.toUpperCase()})}},{title:"Actions",key:"actions",width:"10%",render:(e,t)=>Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/tripDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})}];return Object(N.jsxs)(N.Fragment,{children:[y||S?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(Ht,{tab:"Driver Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)("div",{style:{height:"100%"},children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"First Name",span:3,children:k&&k.firstName}),Object(N.jsx)(M.b.Item,{label:"Last Name",span:3,children:k&&k.lastName}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:k&&k.phoneNumber}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:k&&Object(N.jsx)(Ue.a,{color:"Active"===k.status?"darkgreen":"Pending"===k.status?"darkorange":"Inactive"===k.status?"darkred":"gray",children:k.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Rating",span:3,children:k&&Object(N.jsx)(Be.a,{disabled:!0,value:5})})]})})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsxs)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Passenger Documents"}),children:[Object(N.jsx)(Re.a,{defaultActiveKey:"1",children:Object(N.jsx)(Ht,{tab:"Passenger Image",children:(P=null===k||void 0===k?void 0:k.passengerImage,F="Driver Image",P?Object(N.jsx)("img",{src:"http://194.164.72.21:5001".concat(P),alt:F,style:{width:"100%",height:"400px",objectFit:"cover",marginBottom:"10px",cursor:"pointer"},onClick:()=>(e=>{h(e),i(!0)})("http://194.164.72.21:5001".concat(P))}):Object(N.jsx)(U.a,{shape:"square",icon:Object(N.jsx)(xe.a,{}),style:{width:"100%",height:"400px",marginBottom:"10px"}}))},"1")}),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)(V.a,{beforeUpload:e=>(c([e]),!1),fileList:a,maxCount:1,accept:".jpg, .jpeg, .png",children:Object(N.jsx)(q.a,{type:"dashed",className:"ant-full-box",icon:Object(N.jsx)(qt.a,{}),children:"Upload File"})}),Object(N.jsx)(q.a,{onClick:async()=>{const e=new FormData;e.append("file",a[0]);try{await v(e,"uploadDriverDocument/".concat(p)),B.b.success("File uploaded successfully!"),c([])}catch(t){B.b.error("Failed to upload file"),c([])}},hidden:!a.length,children:"Submit"})]})]})})]})},"1"),Object(N.jsx)(Ht,{tab:"Trips",children:Object(N.jsx)(x.a,{gutter:[24,0],children:Object(N.jsx)(o.a,{span:24,className:"mb-24",children:Object(N.jsxs)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Trips"}),className:"header-solid h-full",bodyStyle:{paddingTop:0,paddingBottom:16},children:[Object(N.jsx)(Gt,{placeholder:"Search trips",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onChange:e=>u(e.target.value),style:{marginBottom:16}}),Object(N.jsx)(ze.a,{columns:D,dataSource:C,rowKey:"id"})]})})})},"2")]}),Object(N.jsx)(b.a,{visible:r,title:"Image Preview",footer:null,onCancel:()=>i(!1),children:Object(N.jsx)("img",{alt:"Preview",style:{width:"100%"},src:d})})]});var P,F};const{Panel:Xt}=zt.a,{TabPane:Zt}=Re.a,{Search:Yt}=ye.a;var $t=function(){var e;const[t,a]=Object(s.useState)(!1),[c,r]=Object(s.useState)([]),[n,i]=Object(s.useState)([]),[d,h]=Object(s.useState)([]),[m,u]=Object(s.useState)(!1),[O,p]=Object(s.useState)(""),[g,y]=Object(s.useState)(""),{id:v}=Object(l.h)(),[f,S]=Object(s.useState)(null),[w,k]=Object(s.useState)(null),[I,C]=Object(s.useState)(null),[D,P]=Object(s.useState)(!0);Object(s.useEffect)((()=>{F()}),[v]);const F=async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/vehicles/".concat(v));S(e.data.vehicle),k(e.data.driver),C(e.data.vehicleType),P(!1)}catch(e){B.b.error("Unable to load vehicle details"),P(!1)}},T=(e,t)=>("image"===t?i([e]):"document"===t&&h([e]),!1),E=async e=>{const t=new FormData;"image"===e?t.append("vehicleImage",n[0]):"document"===e&&t.append("documents",d[0]);try{await fe.a.post("http://194.164.72.21:5001/vehicles/".concat(v),t),B.b.success("".concat("image"===e?"Vehicle Image":"Documents"," uploaded successfully!")),"image"===e?i([]):"document"===e&&h([])}catch(a){B.b.error("Failed to upload ".concat("image"===e?"Vehicle Image":"Documents")),"image"===e?i([]):"document"===e&&h([])}},A=(null===f||void 0===f||null===(e=f.trips)||void 0===e||e.filter((e=>{const t=g.toLowerCase();return e.from.toLowerCase().includes(t)||e.to.toLowerCase().includes(t)||e.status.toLowerCase().includes(t)||e.passenger.firstName.toLowerCase().includes(t)||e.passenger.lastName.toLowerCase().includes(t)})),(e,t)=>e?Object(N.jsx)("img",{src:"http://194.164.72.21:5001".concat(e),alt:t,style:{width:"100%",height:"400px",objectFit:"cover",marginBottom:"10px",cursor:"pointer"},onClick:()=>(e=>{p(e),u(!0)})("http://194.164.72.21:5001".concat(e))}):Object(N.jsx)(U.a,{shape:"square",icon:Object(N.jsx)(xe.a,{}),style:{width:"100%",height:"400px",marginBottom:"10px"}}));return Object(N.jsxs)(N.Fragment,{children:[D?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(Zt,{tab:"Vehicle Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)("div",{style:{height:"100%"},children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Vehicle Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"Plate Number",span:3,children:f&&f.plateNumber}),Object(N.jsx)(M.b.Item,{label:"Model",span:3,children:f&&f.model}),Object(N.jsx)(M.b.Item,{label:"Color",span:3,children:f&&f.color}),Object(N.jsx)(M.b.Item,{label:"Manufactured Year",span:3,children:f&&f.manufacturedYear}),Object(N.jsx)(M.b.Item,{label:"Vehicle Type",span:3,children:I&&I.typeName})]})})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Vehicle Documents"}),children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsxs)(Zt,{tab:"Vehicle Image",children:[A(null===f||void 0===f?void 0:f.vehicleImage,"Vehicle Image"),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)(V.a,{beforeUpload:e=>T(e,"image"),fileList:n,maxCount:1,accept:".png, .jpg, .jpeg",children:Object(N.jsx)(q.a,{type:"dashed",className:"ant-full-box",icon:Object(N.jsx)(qt.a,{}),children:"Upload Vehicle Image"})}),Object(N.jsx)(q.a,{onClick:()=>E("image"),hidden:!n.length,children:"Submit"})]})]},"1"),Object(N.jsxs)(Zt,{tab:"Documents",children:[A(null===f||void 0===f?void 0:f.documents,"Vehicle Documents"),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)(V.a,{beforeUpload:e=>T(e,"document"),fileList:d,maxCount:1,accept:".png, .jpg, .jpeg, .docx,.pdf",children:Object(N.jsx)(q.a,{type:"dashed",className:"ant-full-box",icon:Object(N.jsx)(qt.a,{}),children:"Upload Documents"})}),Object(N.jsx)(q.a,{onClick:()=>E("document"),hidden:!d.length,children:"Submit"})]})]},"2")]})})})]})},"1"),Object(N.jsx)(Zt,{tab:"Driver Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)("div",{style:{height:"100%"},children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"First Name",span:3,children:w&&w.firstName}),Object(N.jsx)(M.b.Item,{label:"Last Name",span:3,children:w&&w.lastName}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:w&&w.phoneNumber}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:w&&Object(N.jsx)(Ue.a,{color:"Active"===w.status?"darkgreen":"Pending"===w.status?"darkorange":"Inactive"===w.status?"darkred":"gray",children:w.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Rating",span:3,children:w&&Object(N.jsx)(Be.a,{disabled:!0,value:w.rating})})]})})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Documents"}),children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(Zt,{tab:"Driver Image",children:A(null===w||void 0===w?void 0:w.driverImage,"Driver Image")},"1"),Object(N.jsx)(Zt,{tab:"Documents",children:A(null===w||void 0===w?void 0:w.documents,"Driver Documents")},"2"),Object(N.jsx)(Zt,{tab:"Driver Licence",children:A(null===w||void 0===w?void 0:w.driverLicence,"Driver Licence")},"3")]})})})]})},"2")]}),Object(N.jsx)(b.a,{visible:m,title:"Image Preview",footer:null,onCancel:()=>u(!1),children:Object(N.jsx)("img",{alt:"Preview",style:{width:"100%"},src:O})})]})};const{Option:Qt}=d.a;var ea=e=>{let{companyId:t,closeModal:a,refetchData:c}=e;const[r]=ve.a.useForm(),[n,l]=Object(s.useState)([]);Object(s.useEffect)((()=>{(async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/passengers");l(e.data)}catch(e){B.b.error("Failed to load passengers")}})()}),[]);return Object(N.jsxs)(ve.a,{form:r,onFinish:async e=>{try{await fe.a.post("http://194.164.72.21:5001/companies/subscribers",{...e,companyId:t});B.b.success("Subscriber added successfully"),r.resetFields(),a(),c()}catch(s){console.error("Error:",s),B.b.error("Failed to add subscriber")}},layout:"vertical",children:[Object(N.jsx)(x.a,{gutter:16,children:Object(N.jsx)(o.a,{span:24,children:Object(N.jsx)(ve.a.Item,{label:"Passenger",name:"passengerId",rules:[{required:!0,message:"Please select a passenger"}],children:Object(N.jsx)(d.a,{placeholder:"Select a passenger",children:n.map((e=>Object(N.jsx)(Qt,{value:e.id,children:"".concat(e.firstName," ").concat(e.lastName)},e.id)))})})})}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Usage Limit",name:"usageLimit",rules:[{required:!0,message:"Please enter a usage limit"}],children:Object(N.jsx)(ye.a,{})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select a status"}],children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)(Qt,{value:"Pending",children:"Pending"}),Object(N.jsx)(Qt,{value:"Active",children:"Active"}),Object(N.jsx)(Qt,{value:"Inactive",children:"Inactive"})]})})})]}),Object(N.jsxs)(x.a,{gutter:16,children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"Start Date",name:"startDate",rules:[{required:!0,message:"Please enter a start date"}],children:Object(N.jsx)(ye.a,{type:"date"})})}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(ve.a.Item,{label:"End Date",name:"endDate",rules:[{required:!0,message:"Please enter an end date"}],children:Object(N.jsx)(ye.a,{type:"date"})})})]}),Object(N.jsxs)(ve.a.Item,{children:[Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"}),Object(N.jsx)(q.a,{htmlType:"button",onClick:()=>r.resetFields(),children:"Reset"})]})]})};const{TabPane:ta}=Re.a,{Search:aa}=ye.a;var sa=function(){const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(""),[i,d]=Object(s.useState)(""),[h,m]=Object(s.useState)(!1),{id:u}=Object(l.h)(),[O,p]=Object(s.useState)(null),[g,y]=Object(s.useState)([]),[v,f]=Object(s.useState)(!0);Object(s.useEffect)((()=>{(async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/companies/".concat(u));p(e.data);const t=await fe.a.get("http://194.164.72.21:5001/companies/subscribers/".concat(u));y(t.data)}catch(e){B.b.error("Unable to load data!")}finally{f(!1)}})()}),[u]);const S=()=>{m(!1)},w=g.filter((e=>{const t=i.toLowerCase();return e.firstName.toLowerCase().includes(t)||e.lastName.toLowerCase().includes(t)||e.phoneNumber.toLowerCase().includes(t)})),k=(e,t)=>e?Object(N.jsx)("img",{src:"http://194.164.72.21:5001".concat(e),alt:t,style:{width:"100%",height:"400px",objectFit:"cover",marginBottom:"10px",cursor:"pointer"},onClick:()=>(e=>{n(e),c(!0)})("http://194.164.72.21:5001".concat(e))}):Object(N.jsx)(U.a,{shape:"square",icon:Object(N.jsx)(xe.a,{}),style:{width:"100%",height:"400px",marginBottom:"10px"}});return Object(N.jsxs)(N.Fragment,{children:[v?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(ta,{tab:"Company Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)("div",{style:{height:"100%"},children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Company Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"Company Name",span:3,children:O&&O.companyName}),Object(N.jsx)(M.b.Item,{label:"Contact Person",span:3,children:O&&O.contactPerson}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:O&&O.phoneNumber}),Object(N.jsx)(M.b.Item,{label:"Balance",span:3,children:O&&O.balance}),Object(N.jsx)(M.b.Item,{label:"Credit Limit",span:3,children:O&&O.creditLimit}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:O&&O.status}),Object(N.jsx)(M.b.Item,{label:"Address",span:3,children:O&&O.address}),Object(N.jsx)(M.b.Item,{label:"Start Date",span:3,children:O&&new Date(O.startDate).toLocaleDateString()}),Object(N.jsx)(M.b.Item,{label:"End Date",span:3,children:O&&new Date(O.endDate).toLocaleDateString()})]})})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsxs)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Company Documents"}),children:[Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(ta,{tab:"Company Image",children:k(null===O||void 0===O?void 0:O.companyImage,"Company Image")},"1"),Object(N.jsx)(ta,{tab:"Documents",children:k(null===O||void 0===O?void 0:O.documents,"Company Documents")},"2"),Object(N.jsx)(ta,{tab:"Company Licence",children:k(null===O||void 0===O?void 0:O.companyLicence,"Company Licence")},"3")]}),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)(V.a,{beforeUpload:e=>(t([e]),!1),fileList:e,maxCount:1,accept:".docx,.pdf",children:Object(N.jsx)(q.a,{type:"dashed",className:"ant-full-box",icon:Object(N.jsx)(qt.a,{}),children:"Upload File"})}),Object(N.jsx)(q.a,{onClick:async()=>{const a=new FormData;a.append("file",e[0]);try{await fe.a.post("http://194.164.72.21:5001/uploadCompanyDocument/".concat(u),a),B.b.success("File uploaded successfully!"),t([])}catch(s){B.b.error("Failed to upload file"),t([])}},hidden:!e.length,children:"Submit"})]})]})})]})},"1"),Object(N.jsx)(ta,{tab:"Subscribers",children:Object(N.jsx)(x.a,{gutter:[24,0],children:Object(N.jsx)(o.a,{span:24,className:"mb-24",children:Object(N.jsxs)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Subscribers"}),extra:Object(N.jsx)(q.a,{icon:Object(N.jsx)(it.a,{}),onClick:()=>{m(!0)},children:"Add Subscriber"}),className:"header-solid h-full",bodyStyle:{paddingTop:0,paddingBottom:16},children:[Object(N.jsx)(aa,{placeholder:"Search subscribers",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onChange:e=>d(e.target.value),style:{marginBottom:16}}),Object(N.jsx)(ze.a,{columns:[{title:"Subscriber ID",dataIndex:"id",key:"id"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Usage Limit",dataIndex:"usageLimit",key:"usageLimit"}],dataSource:w,rowKey:"id"})]})})})},"2")]}),Object(N.jsx)(b.a,{visible:a,title:"Image Preview",footer:null,onCancel:()=>c(!1),children:Object(N.jsx)("img",{alt:"Preview",style:{width:"100%"},src:r})}),Object(N.jsx)(b.a,{visible:h,title:"Add Subscriber",onCancel:S,footer:null,children:Object(N.jsx)(ea,{companyId:u,closeModal:S,refetchData:async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/companies/subscribers/".concat(u));y(e.data)}catch(e){B.b.error("Unable to load data!")}}})})]})},ca=a(275),ra=a(264),na=a.n(ra);const{Option:la}=d.a;var ia=e=>{let{formData:t,setFormData:a,closeModal:c}=e;const[r]=ve.a.useForm(),{data:n,loading:l,error:i}=_e("roles"),{postData:o,putData:j}=_e("users"),[b,h]=Object(s.useState)(!1);Object(s.useEffect)((()=>{r.setFieldsValue(t)}),[t,r]);return Object(s.useEffect)((()=>{b&&h(!1)}),[b]),i?Object(N.jsxs)("div",{children:["Error: ",i]}):l?Object(N.jsx)("div",{children:"Loading roles..."}):Object(N.jsxs)(ve.a,{form:r,onFinish:async e=>{try{t.id?await j(e,t.id):await o(e),a({}),c(),h(!0)}catch(s){console.error("Error:",s)}},layout:"vertical",children:[Object(N.jsx)(ve.a.Item,{label:"First Name",name:"firstName",rules:[{required:!0,message:"Please enter a First Name"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{label:"Last Name",name:"lastName",rules:[{required:!0,message:"Please enter a Last Name"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please enter an Email"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter a Phone Number"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter a Password"}],children:Object(N.jsx)(na.a,{})}),Object(N.jsx)(ve.a.Item,{label:"Role",name:"RoleId",rules:[{required:!0,message:"Please select a Role"}],children:Object(N.jsx)(d.a,{children:n&&n.map((e=>Object(N.jsx)(la,{value:e.id,children:e.name},e.id)))})}),Object(N.jsx)(ve.a.Item,{label:"Status",name:"status",rules:[{required:!0,message:"Please select a Status"}],children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)(la,{value:"Active",children:"Active"}),Object(N.jsx)(la,{value:"Inactive",children:"Inactive"})]})}),Object(N.jsx)(ve.a.Item,{children:Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"})})]})};var da=e=>{const[t,a]=Object(s.useState)(null),[c,r]=Object(s.useState)(null),[n,i]=Object(s.useState)(!1),d=Object(l.f)(),o=localStorage.getItem("token");o||d.push("/login");const j=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://194.164.72.21:5001",b=async()=>{try{if(i(!0),!o)throw new Error("Token not found");const t=await fe.a.get("".concat(j,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o),tennant:"web"}});a(t.data)}catch(c){c.response&&401===c.response.status||403===c.response.status?d.push("/login"):(r(c.message),B.b.error("Something went wrong!"))}finally{i(!1)}};Object(s.useEffect)((()=>{b()}),[e,o]);return{data:t,error:c,loading:n,postData:async t=>{try{if(!o)throw new Error("Token not found");const s=await fe.a.post("".concat(j,"/").concat(e),t,{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",tennant:"web"}});a(s.data)}catch(c){r(c.message)}},putData:async(t,s)=>{console.log("url",s);try{if(!o)throw new Error("Token not found");const c=await fe.a.put("".concat(j,"/").concat(e,"/").concat(s),t,{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json",tennant:"web"}});a(c.data)}catch(c){r(c.message)}},deleteData:async t=>{try{if(!o)throw new Error("Token not found");const s=await fe.a.delete("".concat(j,"/").concat(e,"/").concat(t),{headers:{Authorization:"Bearer ".concat(o),tennant:"web"}});a(s.data)}catch(c){r(c.message)}},postFormData:async(e,t)=>{try{const a=localStorage.getItem("token");if(!a)throw new Error("Token not found");return(await fe.a.post("".concat(j,"/").concat(t),e,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data",tennant:"web"}})).data}catch(c){throw new Error(c.message||"Failed to upload data")}},putFormData:async(e,t)=>{console.log("fff",e);try{const a=localStorage.getItem("token");if(!a)throw new Error("Token not found");return(await fe.a.put("".concat(j,"/").concat(t),e,{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"multipart/form-data",tennant:"web"}})).data}catch(c){throw new Error(c.message||"Failed to upload data")}},refetchData:async()=>{b()},token:o}};var oa=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),{data:r,loading:n,error:l,refetchData:i}=da("users"),d=[{title:"ID",dataIndex:"id",key:"id"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Role",dataIndex:["Role","name"],key:"role"},{title:"Actions",key:"actions",render:(e,a)=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q.a,{type:"primary",icon:Object(N.jsx)(Me.a,{}),onClick:()=>(e=>{c(e),t(!0)})(a),style:{marginRight:8},children:"Edit"}),Object(N.jsx)(q.a,{type:"danger",icon:Object(N.jsx)(ca.a,{}),onClick:()=>{a.id},children:"Delete"})]})}];return Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{children:Object(N.jsxs)(x.a,{gutter:[16,16],children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(q.a,{type:"primary",icon:Object(N.jsx)(it.a,{}),onClick:()=>{c({}),t(!0)},children:"Add User"})}),Object(N.jsxs)(o.a,{span:24,children:[l&&Object(N.jsxs)("div",{children:["Error: ",l]}),n?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(ze.a,{dataSource:r,columns:d,pagination:{pageSize:5}})]})]})}),Object(N.jsx)(b.a,{title:a.id?"Edit User":"Add User",visible:e,onCancel:()=>t(!1),footer:null,children:Object(N.jsx)(ia,{formData:a,setFormData:c,closeModal:()=>{t(!1)},refetchData:i})})]})};var ja=e=>{let{formData:t,setFormData:a}=e;const[c]=ve.a.useForm();Object(s.useEffect)((()=>{c.setFieldsValue(t)}),[t,c]);return Object(N.jsxs)(ve.a,{form:c,onFinish:()=>{},layout:"vertical",children:[Object(N.jsx)(ve.a.Item,{name:"name",label:"Permission Name",rules:[{required:!0,message:"Please enter permission name"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{children:Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"})})]})};var ba=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)({}),[l,i]=Object(s.useState)(!1),d=[{title:"ID",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Actions",key:"actions",render:(e,t)=>Object(N.jsx)(N.Fragment,{})}];Object(s.useEffect)((()=>{h()}),[]);const h=async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Error("Token not found");i(!0);const a=await fetch("http://194.164.72.21:5001/permissions",{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),s=await a.json();if(!a.ok)throw new Error(s.message||"Failed to fetch permissions");t(s),i(!1)}catch(e){console.error("Error fetching permissions:",e),B.b.error("Something went wrong")}finally{i(!1)}};return Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{children:Object(N.jsxs)(x.a,{gutter:[16,16],children:[Object(N.jsx)(o.a,{span:24,children:Object(N.jsx)(q.a,{type:"primary",icon:Object(N.jsx)(it.a,{}),onClick:()=>{n({}),c(!0)},children:"Add Permission"})}),Object(N.jsx)(o.a,{span:24,children:l?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(ze.a,{dataSource:e,columns:d,loading:l,rowKey:"id",pagination:{pageSize:5}})})]})}),Object(N.jsx)(b.a,{title:r.id?"Edit Permission":"Add Permission",visible:a,onCancel:()=>c(!1),footer:null,children:Object(N.jsx)(ja,{formData:r,setFormData:n})})]})};var ha=e=>{let{permissions:t,selectedPermissions:a,onChange:s}=e;return t?Object(N.jsx)(h.a.Group,{value:a,onChange:e=>s(e),style:{width:"100%"},children:t.map((e=>Object(N.jsx)(h.a,{value:e.id,children:e.name},e.id)))}):null};var ma=e=>{let{formData:t,setFormData:a,onClose:c}=e;const[r]=ve.a.useForm(),[n,l]=Object(s.useState)([]),{data:i,loading:d,error:o}=_e("permissions"),{postData:j,putData:b}=_e("roles");Object(s.useEffect)((()=>{r.setFieldsValue(t),l(t.permissions||[])}),[t,r]);return Object(N.jsxs)(ve.a,{form:r,onFinish:async e=>{try{if(!localStorage.getItem("token"))throw new Error("Token not found");const s=t.id?await b(e,t.id):await j(e);B.b.success("Role saved successfully"),a({}),c(),console.log(s)}catch(o){console.error("Error saving role:",o),B.b.error(o.message||"Failed to save role")}},layout:"vertical",children:[Object(N.jsx)(ve.a.Item,{name:"name",label:"Role Name",rules:[{required:!0,message:"Please enter role name"}],children:Object(N.jsx)(ye.a,{})}),Object(N.jsx)(ve.a.Item,{name:"permissions",label:"Permissions",children:d?Object(N.jsx)("div",{children:"Loading permissions..."}):o?Object(N.jsxs)("div",{children:["Error loading permissions: ",o]}):Object(N.jsx)(ha,{permissions:i,selectedPermissions:n,onChange:l})}),Object(N.jsx)(ve.a.Item,{children:Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",children:"Save"})})]})};var ua=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),{data:r,loading:n,error:l,refetchData:i}=da("roles"),d=[{title:"ID",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Permissions",dataIndex:"Permissions",key:"permissions",render:e=>Object(N.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:e&&e.map((e=>Object(N.jsx)("div",{style:{marginRight:8,marginBottom:8,backgroundColor:"lightblue",padding:"4px 8px",borderRadius:4},children:e.name},e.id)))})},{title:"Actions",key:"actions",render:(e,a)=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q.a,{type:"primary",icon:Object(N.jsx)(Me.a,{}),onClick:()=>(e=>{c(e),t(!0)})(a),style:{marginRight:8},children:"Edit"}),Object(N.jsx)(q.a,{type:"danger",icon:Object(N.jsx)(ca.a,{}),onClick:()=>{a.id},children:"Delete"})]})}];return Object(N.jsxs)("div",{children:[Object(N.jsx)(j.a,{children:Object(N.jsxs)(x.a,{gutter:[16,16],children:[Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(q.a,{type:"primary",icon:Object(N.jsx)(it.a,{}),onClick:()=>{c({}),t(!0)},children:"Add Role"})}),Object(N.jsxs)(o.a,{span:24,children:[l&&Object(N.jsxs)("div",{children:["Error: ",l]}),n?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(ze.a,{dataSource:r,columns:d,pagination:{pageSize:5}})]})]})}),Object(N.jsx)(b.a,{title:a.id?"Edit Role":"Add Role",visible:e,onCancel:()=>t(!1),footer:null,children:Object(N.jsx)(ma,{formData:a,setFormData:c,closeModal:()=>{t(!1)},refetchData:i,onClose:()=>t(!1)})})]})};const{Title:Oa}=u.a,{Header:xa,Footer:pa,Content:ga}=re.a;class ya extends s.Component{constructor(){super(...arguments),this.onFinish=async e=>{try{const t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL||"http://194.164.72.21:5001",a=await fetch("".concat(t,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await a.json();if(a.ok){B.b.success("Logged In Successfully!"),localStorage.setItem("token",s.token),localStorage.setItem("userData",JSON.stringify(s.userData));const e=s.userData.Role.Permissions.map((e=>e.name));localStorage.setItem("permissions",JSON.stringify(e)),this.props.history.push("/dashboard")}else B.b.error("Invalid Credentials!"),console.error("Login failed:",s.message)}catch(t){console.error("Error occurred during login:",t)}},this.onFinishFailed=e=>{console.log("Failed:",e)}}render(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(re.a,{className:"layout-default layout-signin",children:[Object(N.jsx)(xa,{children:Object(N.jsx)("div",{className:"header-col header-brand",children:Object(N.jsx)("h5",{children:"Wekil Zewari"})})}),Object(N.jsx)(ga,{className:"signin",children:Object(N.jsxs)(x.a,{gutter:[24,0],justify:"space-around",children:[Object(N.jsxs)(o.a,{xs:{span:24,offset:0},lg:{span:6,offset:2},md:{span:12},children:[Object(N.jsx)(Oa,{className:"mb-15",children:"Sign In"}),Object(N.jsx)(Oa,{className:"font-regular text-muted",level:5,children:"Enter your email and password to sign in"}),Object(N.jsxs)(ve.a,{onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,layout:"vertical",className:"row-col",children:[Object(N.jsx)(ve.a.Item,{className:"username",label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"}],children:Object(N.jsx)(ye.a,{placeholder:"Email"})}),Object(N.jsx)(ve.a.Item,{className:"username",label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(N.jsx)(ye.a.Password,{placeholder:"Password"})}),Object(N.jsxs)(ve.a.Item,{name:"remember",className:"aligin-center",valuePropName:"checked",children:[Object(N.jsx)(z.a,{}),"Remember me"]}),Object(N.jsx)(ve.a.Item,{children:Object(N.jsx)(q.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"SIGN IN"})})]})]}),Object(N.jsx)(o.a,{style:{padding:12},xs:{span:24},lg:{span:12},md:{span:12},children:Object(N.jsx)("img",{src:de,width:1200,height:600,alt:""})})]})}),Object(N.jsx)(pa,{children:Object(N.jsxs)("p",{className:"copyright",style:{marginTop:200},children:[" ","Copyright \xa9 2024 ",Object(N.jsx)("a",{href:"#frontieri.com",children:"Wekil Zewari"})," "]})})]})})}}var va=Object(l.i)(ya);a(465),a(466),a(467);const{TabPane:fa}=Re.a;var Sa=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(""),[i,d]=Object(s.useState)(null),{id:h}=Object(l.h)(),{data:m,loading:u}=_e("trips/".concat(h)),[O,p]=Object(s.useState)(!0),g=null===m||void 0===m?void 0:m.driver,y=null===m||void 0===m?void 0:m.passenger,v=m?[{lat:parseFloat(m.fromLat),lng:parseFloat(m.fromLon)},{lat:parseFloat(m.toLat),lng:parseFloat(m.toLon)}]:[];Object(s.useEffect)((()=>{if(2===v.length&&window.google&&window.google.maps){(new window.google.maps.DirectionsService).route({origin:v[0],destination:v[1],travelMode:window.google.maps.TravelMode.DRIVING},((e,t)=>{t===window.google.maps.DirectionsStatus.OK&&O?d(e):console.error("Error fetching directions: ".concat(t),e)}))}return()=>p(!1)}),[v]);const f=(e,t)=>e?Object(N.jsx)("img",{src:"http://194.164.72.21:5001".concat(e),alt:t,style:{width:"100%",height:"400px",objectFit:"cover",marginBottom:"10px",cursor:"pointer"},onClick:()=>(e=>{n(e),c(!0)})("http://194.164.72.21:5001".concat(e))}):Object(N.jsx)(U.a,{shape:"square",icon:Object(N.jsx)(xe.a,{}),style:{width:"100%",height:"400px",marginBottom:"10px"}});return Object(N.jsxs)(N.Fragment,{children:[u?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsxs)(Re.a,{defaultActiveKey:"3",children:[Object(N.jsx)(fa,{tab:"Trip Details",children:Object(N.jsx)(x.a,{gutter:[24,0],children:Object(N.jsx)(o.a,{span:24,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsxs)("h6",{className:"font-semibold m-0",children:["Trip Details-                       ",null===m||void 0===m?void 0:m.id]}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},column:2,children:[Object(N.jsx)(M.b.Item,{label:"Start Location",span:1,children:null===m||void 0===m?void 0:m.from}),Object(N.jsx)(M.b.Item,{label:"End Location",span:1,children:null===m||void 0===m?void 0:m.to}),Object(N.jsxs)(M.b.Item,{label:"Distance",span:1,children:[null===m||void 0===m?void 0:m.distance," km"]}),Object(N.jsxs)(M.b.Item,{label:"Price",span:1,children:["$",null===m||void 0===m?void 0:m.price]}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:m&&Object(N.jsx)(Ue.a,{color:"Ended"===m.status?"darkgreen":"Active"===m.status?"darkorange":"Cancelled"===m.status?"darkred":"gray",children:m.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Pick Up Time",span:1,children:new Date(null===m||void 0===m?void 0:m.pickUpTime).toLocaleString()}),Object(N.jsx)(M.b.Item,{label:"Drop Off Time",span:1,children:new Date(null===m||void 0===m?void 0:m.dropOffTime).toLocaleString()}),Object(N.jsx)(M.b.Item,{label:"Driver Rating",span:1,children:m&&Object(N.jsx)(Be.a,{disabled:!0,value:m.driverRating})}),Object(N.jsx)(M.b.Item,{label:"Passenger Rating",span:1,children:m&&Object(N.jsx)(Be.a,{disabled:!0,value:m.passengerRatinf})}),Object(N.jsx)(M.b.Item,{label:"Driver Feedback",span:1,children:null===m||void 0===m?void 0:m.driverFeedback}),Object(N.jsx)(M.b.Item,{label:"Passenger Feedback",span:1,children:null===m||void 0===m?void 0:m.passengerFeedback})]})})})})},"3"),Object(N.jsx)(fa,{tab:"Driver Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"First Name",span:3,children:g&&g.firstName}),Object(N.jsx)(M.b.Item,{label:"Last Name",span:3,children:g&&g.lastName}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:g&&g.phoneNumber}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:g&&Object(N.jsx)(Ue.a,{color:"Active"===g.status?"darkgreen":"Pending"===g.status?"darkorange":"Inactive"===g.status?"darkred":"gray",children:g.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Rating",span:3,children:g&&Object(N.jsx)(Be.a,{disabled:!0,value:g.rating})})]})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Documents"}),children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(fa,{tab:"Driver Image",children:f(null===g||void 0===g?void 0:g.driverImage,"Driver Image")},"1"),Object(N.jsx)(fa,{tab:"Driver Documents",children:f(null===g||void 0===g?void 0:g.documents,"Driver Documents")},"2"),Object(N.jsx)(fa,{tab:"Driver Licence",children:f(null===g||void 0===g?void 0:g.driverLicence,"Driver Licence")},"3")]})})})]})},"1"),Object(N.jsx)(fa,{tab:"Passenger Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Passenger Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"First Name",span:3,children:y&&y.firstName}),Object(N.jsx)(M.b.Item,{label:"Last Name",span:3,children:y&&y.lastName}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:y&&y.phoneNumber}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:y&&Object(N.jsx)(Ue.a,{color:"Active"===y.status?"darkgreen":"Pending"===y.status?"darkorange":"Inactive"===y.status?"darkred":"gray",children:y.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Rating",span:3,children:y&&Object(N.jsx)(Be.a,{disabled:!0,value:5})})]})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Passenger Documents"}),children:Object(N.jsx)(Re.a,{defaultActiveKey:"1",children:Object(N.jsx)(fa,{tab:"Passenger Image",children:f(null===y||void 0===y?void 0:y.passengerImage,"Passenger Image")},"1")})})})]})},"2")]}),Object(N.jsx)(b.a,{visible:a,title:"Image Preview",footer:null,onCancel:()=>c(!1),children:Object(N.jsx)("img",{alt:"Preview",style:{width:"100%"},src:r})})]})};const{TabPane:wa}=Re.a,{Option:Na}=d.a;var ka=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(""),[i,h]=Object(s.useState)(null),{id:m}=Object(l.h)(),{data:u,loading:O}=_e("reservations/".concat(m)),{data:p,loading:g,postFormData:y}=_e("drivers"),v=O||g,f=null===u||void 0===u?void 0:u.reservation,S=p||[],w=null===f||void 0===f?void 0:f.driver,k=null===f||void 0===f?void 0:f.passenger,I=(e,t)=>e?Object(N.jsx)("img",{src:"http://194.164.72.21:5001".concat(e),alt:t,style:{width:"100%",height:"400px",objectFit:"cover",marginBottom:"10px",cursor:"pointer"},onClick:()=>(e=>{n(e),c(!0)})("http://194.164.72.21:5001".concat(e))}):Object(N.jsx)(U.a,{shape:"square",icon:Object(N.jsx)(xe.a,{}),style:{width:"100%",height:"400px",marginBottom:"10px"}});return Object(N.jsxs)(N.Fragment,{children:[v?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsxs)(Re.a,{defaultActiveKey:"3",children:[Object(N.jsx)(wa,{tab:"Trip Details",children:Object(N.jsx)(x.a,{gutter:[24,0],children:Object(N.jsx)(o.a,{span:24,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsxs)("h6",{className:"font-semibold m-0",children:["Reservation Details - ",null===f||void 0===f?void 0:f.id]}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},column:2,children:[Object(N.jsx)(M.b.Item,{label:"Start Location",span:1,children:(null===f||void 0===f?void 0:f.from)||"N/A"}),Object(N.jsx)(M.b.Item,{label:"End Location",span:1,children:(null===f||void 0===f?void 0:f.to)||"N/A"}),Object(N.jsxs)(M.b.Item,{label:"Distance",span:1,children:[(null===f||void 0===f?void 0:f.distance)||"N/A"," km"]}),Object(N.jsxs)(M.b.Item,{label:"Price",span:1,children:["$",(null===f||void 0===f?void 0:f.price)||"N/A"]}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:f&&Object(N.jsx)(Ue.a,{color:"Started"===f.status||"Accepted"===f.status?"darkorange":"Pending"===f.status?"darkred":"gray",children:f.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Pick Up Time",span:1,children:null!==f&&void 0!==f&&f.pickUpDate?new Date(f.pickUpDate).toLocaleString():"N/A"}),Object(N.jsx)(M.b.Item,{label:"Drop Off Time",span:1,children:null!==f&&void 0!==f&&f.updatedAt?new Date(f.updatedAt).toLocaleString():"N/A"}),Object(N.jsx)(M.b.Item,{label:"Driver Rating",span:1,children:f&&Object(N.jsx)(Be.a,{disabled:!0,value:f.driverRating})}),Object(N.jsx)(M.b.Item,{label:"Passenger Rating",span:1,children:f&&Object(N.jsx)(Be.a,{disabled:!0,value:f.passengerRating})}),Object(N.jsx)(M.b.Item,{label:"Driver Feedback",span:1,children:(null===f||void 0===f?void 0:f.driverFeedback)||"N/A"}),Object(N.jsx)(M.b.Item,{label:"Passenger Feedback",span:1,children:(null===f||void 0===f?void 0:f.passengerFeedback)||"N/A"}),"Started"!==(null===f||void 0===f?void 0:f.status)&&S&&Object(N.jsxs)(M.b.Item,{label:"Assign or change Driver",span:1,children:[Object(N.jsx)(d.a,{style:{width:"50%",marginBottom:"10px"},placeholder:"Select Driver",onChange:e=>{h(e)},children:S.map((e=>Object(N.jsxs)(Na,{value:e.id,children:[e.firstName," ",e.lastName," - ",e.phoneNumber]},e.id)))}),Object(N.jsx)(q.a,{type:"primary",onClick:async()=>{if(i)try{await fe.a.post("http://194.164.72.21:5001/reservations/forward/".concat(m),{driverId:i},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});window.location.reload(),B.b.success("Reservation successfully forwarded to the selected driver.")}catch(e){B.b.error("Failed to forward reservation."),console.error("Error forwarding reservation:",e)}else B.b.warning("Please select a driver to forward the reservation.")},children:"Forward to Driver"})]})]})})})})},"3"),w&&Object(N.jsx)(wa,{tab:"Driver Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"First Name",span:3,children:(null===w||void 0===w?void 0:w.firstName)||"N/A"}),Object(N.jsx)(M.b.Item,{label:"Last Name",span:3,children:(null===w||void 0===w?void 0:w.lastName)||"N/A"}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:(null===w||void 0===w?void 0:w.phoneNumber)||"N/A"}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:w&&Object(N.jsx)(Ue.a,{color:"Active"===w.status?"darkgreen":"Inactive"===w.status?"darkred":"gray",children:w.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Rating",span:3,children:w&&Object(N.jsx)(Be.a,{disabled:!0,value:w.rating})})]})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Driver Documents"}),children:Object(N.jsxs)(Re.a,{defaultActiveKey:"1",children:[Object(N.jsx)(wa,{tab:"Driver Image",children:I(null===w||void 0===w?void 0:w.driverImage,"Driver Image")},"1"),Object(N.jsx)(wa,{tab:"Driver Documents",children:I(null===w||void 0===w?void 0:w.documents,"Driver Documents")},"2"),Object(N.jsx)(wa,{tab:"Driver Licence",children:I(null===w||void 0===w?void 0:w.driverLicence,"Driver Licence")},"3")]})})})]})},"1"),Object(N.jsx)(wa,{tab:"Passenger Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Passenger Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"First Name",span:3,children:(null===k||void 0===k?void 0:k.firstName)||"N/A"}),Object(N.jsx)(M.b.Item,{label:"Last Name",span:3,children:(null===k||void 0===k?void 0:k.lastName)||"N/A"}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:(null===k||void 0===k?void 0:k.phoneNumber)||"N/A"}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:k&&Object(N.jsx)(Ue.a,{color:"Active"===k.status?"darkgreen":"Inactive"===k.status?"darkred":"gray",children:k.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Rating",span:3,children:k&&Object(N.jsx)(Be.a,{disabled:!0,value:5})})]})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Passenger Documents"}),children:Object(N.jsx)(Re.a,{defaultActiveKey:"1",children:Object(N.jsx)(wa,{tab:"Passenger Image",children:I(null===k||void 0===k?void 0:k.passengerImage,"Passenger Image")},"1")})})})]})},"2")]}),Object(N.jsx)(b.a,{visible:a,title:"Image Preview",footer:null,onCancel:()=>c(!1),children:Object(N.jsx)("img",{alt:"Preview",style:{width:"100%"},src:r})})]})},Ia=a(267),Ca=a(137);const{Option:Da}=d.a;var Pa=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)(null),[r,n]=Object(s.useState)(null),[l,i]=Object(s.useState)(""),[b,h]=Object(s.useState)(""),[m,u]=Object(s.useState)({}),[O,p]=Object(s.useState)({}),[g,y]=Object(s.useState)([]),[v,f]=Object(s.useState)(null),[S,w]=Object(s.useState)([]),[k,I]=Object(s.useState)(null),C=Object(s.useRef)(null),D=Object(s.useRef)(null),P=Object(s.useRef)(null);Object(s.useEffect)((()=>((async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/passengers");y(e.data)}catch(e){console.error("Failed to fetch passengers",e)}})(),(async()=>{try{const e=await fe.a.get("http://194.164.72.21:5001/vehicleTypes");w(e.data)}catch(e){console.error("Failed to fetch vehicle types",e)}})(),P.current=Object(Ia.a)("http://194.164.72.21:3004"),P.current.on("requested",(e=>{console.log("Requested event received:",e),c(e),t(!1)})),P.current.on("accepted",(e=>{console.log("Accepted event received:",e),n(e),t(!1)})),()=>{P.current.disconnect()})),[]);const F=(e,t,a)=>{const s=e.getPlace(),c=s.geometry.location;t({lat:c.lat(),lng:c.lng()}),a(s.formatted_address)};return Object(N.jsx)(Ca.b,{googleMapsApiKey:"AIzaSyBEnjVNXGgw757msw4v4Otk5nV9XYUOQCs",libraries:["places"],children:Object(N.jsxs)("div",{style:{textAlign:"center",marginTop:"20px"},children:[Object(N.jsx)(x.a,{gutter:16,justify:"center",children:Object(N.jsxs)(o.a,{span:12,style:{marginBottom:"20px"},children:[Object(N.jsx)(Ca.a,{onLoad:e=>C.current=e,onPlaceChanged:()=>F(C.current,u,i),children:Object(N.jsx)(ye.a,{placeholder:"From Location",value:l,onChange:e=>i(e.target.value)})}),Object(N.jsx)("br",{}),Object(N.jsx)(Ca.a,{onLoad:e=>D.current=e,onPlaceChanged:()=>F(D.current,p,h),children:Object(N.jsx)(ye.a,{placeholder:"To Location",value:b,onChange:e=>h(e.target.value)})}),Object(N.jsx)("br",{}),Object(N.jsx)(d.a,{showSearch:!0,placeholder:"Select Passenger",style:{width:"100%"},onChange:e=>f(e),filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0,children:g.map((e=>Object(N.jsx)(Da,{value:e.id,children:"".concat(e.firstName," ").concat(e.lastName," - ").concat(e.phoneNumber)},e.id)))}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(d.a,{placeholder:"Select Vehicle Type",style:{width:"100%"},onChange:e=>I(e),children:S.map((e=>Object(N.jsx)(Da,{value:e.id,children:e.typeName},e.id)))}),Object(N.jsx)("br",{})]})}),e?Object(N.jsx)(qe.a,{size:"large"}):Object(N.jsxs)("div",{children:[Object(N.jsx)(q.a,{type:"primary",onClick:()=>{t(!0);const e={fromLat:String(m.lat),fromLon:String(m.lng),toLat:String(O.lat),toLon:String(O.lng),passengerId:String(v),vehicleTypeId:String(k)};console.log("Sending request with data:",e),P.current.emit("webRequest",e,(e=>{console.log("Server response:",e)}))},children:"Send Request"}),r&&Object(N.jsxs)(x.a,{gutter:16,style:{marginTop:"20px"},children:[console.log(r),Object(N.jsx)(o.a,{span:8,children:Object(N.jsx)(j.a,{title:"Driver Information",bordered:!0,children:Object(N.jsxs)(M.b,{bordered:!0,column:1,children:[Object(N.jsx)(M.b.Item,{label:"Name",children:"".concat(r.driver.firstName," ").concat(r.driver.lastName)}),Object(N.jsx)(M.b.Item,{label:"Phone Number",children:r.driver.phoneNumber}),Object(N.jsx)(M.b.Item,{label:"Rating",children:r.driver.rating})]})})}),Object(N.jsx)(o.a,{span:8,children:Object(N.jsx)(j.a,{title:"Vehicle Information",bordered:!0,children:Object(N.jsxs)(M.b,{bordered:!0,column:1,children:[Object(N.jsx)(M.b.Item,{label:"Plate Number",children:r.vehicle.plateNumber}),Object(N.jsx)(M.b.Item,{label:"Model",children:r.vehicle.model}),Object(N.jsx)(M.b.Item,{label:"Color",children:r.vehicle.color})]})})}),Object(N.jsx)(o.a,{span:8,children:Object(N.jsx)(j.a,{title:"Arriving Information",bordered:!0,children:Object(N.jsxs)(M.b,{bordered:!0,column:1,children:[Object(N.jsx)(M.b.Item,{label:"ETA",children:r.arrivingInfo.eta}),Object(N.jsx)(M.b.Item,{label:"Distance",children:r.arrivingInfo.distance})]})})})]})]})]})})};const{Search:Fa}=ye.a;var Ta=()=>{const[e,t]=Object(s.useState)(!1),[a,c]=Object(s.useState)({}),[r,i]=Object(s.useState)(!1),[d,b]=Object(s.useState)([]),[h,m]=Object(s.useState)([]),[u,p]=Object(s.useState)([]),[g,y]=Object(s.useState)(""),[v,f]=Object(s.useState)(null),[S,w]=Object(s.useState)(!1),[k,I]=Object(s.useState)(!1),[C,D]=Object(s.useState)(!1),P=(Object(l.f)(),["id","from","to","pickUpTime","distance","price","status","driverName","driverPhone","actions"]);Object(s.useEffect)((()=>{b(P),F()}),[C]);const F=async()=>{try{I(!0);const e=await fe.a.get("http://194.164.72.21:5001/tripRequests");m(e.data),p(e.data),I(!1)}catch(e){B.b.error("Unable to load data!"),I(!1)}},T=e=>{y(e);const t=h.filter((t=>Object.keys(t).some((a=>String(t[a]).toLowerCase().includes(e.toLowerCase())))));p(t)},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const a=e.length>t?"".concat(e.substring(0,t),"..."):e;return Object(N.jsx)(O.a,{title:e,children:Object(N.jsx)("span",{children:a})})},A=[{title:"Trip ID",dataIndex:"id",key:"id",width:"10%"},{title:"Passenger Name",dataIndex:["passenger","firstName"],key:"passengerName",width:"10%",render:(e,t)=>E("".concat(t.passenger.firstName," ").concat(t.passenger.lastName),15)},{title:"Start Location",dataIndex:"from",key:"from",width:"10%",render:e=>E(e,20)},{title:"End Location",dataIndex:"to",key:"to",width:"10%",render:e=>E(e,20)},{title:"Price",dataIndex:"estimatedPrice",key:"estimatedPrice",width:"10%",render:e=>e?E(e,20):""},{title:"Date",dataIndex:"createdAt",key:"createdAt",width:"10%",render:e=>e?E(e,20):""},{title:"Status",dataIndex:"status",key:"status",width:"10%",render:e=>{let t="";switch(e){case"Ended":t="darkgreen";break;case"Active":t="darkorange";break;case"Pending":t="darkred";break;default:t="gray"}return Object(N.jsx)(O.a,{title:e.toUpperCase(),children:Object(N.jsx)(Ue.a,{color:t,children:E(e.toUpperCase(),7)})})}},{title:"Actions",key:"actions",width:"10%",render:(e,t)=>Object(N.jsx)(q.a,{type:"link",children:Object(N.jsxs)(n.c,{to:"/tripRequestDetails/".concat(t.id),style:{color:"green"},children:[Object(N.jsx)(Ke.a,{})," \xa0Details"]})})}],L=e=>{let{columns:t,data:a}=e;const c=t.map((e=>e.key)),[r,n]=Object(s.useState)(c);Object(s.useEffect)((()=>{n(c)}),[c]);const l=t.filter((e=>r.includes(e.key)));return Object(N.jsx)("div",{style:{overflowX:"auto"},children:Object(N.jsx)(ze.a,{columns:l,dataSource:a,pagination:{pageSize:5},className:"ant-border-space"})})};return Object(N.jsx)("div",{children:Object(N.jsxs)(j.a,{children:[Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:12}),Object(N.jsx)(o.a,{span:12,children:Object(N.jsx)(Fa,{placeholder:"Search Trips",allowClear:!0,enterButton:Object(N.jsx)(Ve.a,{}),onSearch:T,onChange:e=>T(e.target.value)})})]}),Object(N.jsx)(x.a,{gutter:[16,16],children:Object(N.jsx)(o.a,{xs:24,xl:v?12:24,children:k?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsx)(L,{columns:A,data:u})})})]})})};const{TabPane:Ea}=Re.a;var Aa=()=>{const[e,t]=Object(s.useState)([]),[a,c]=Object(s.useState)(!1),[r,n]=Object(s.useState)(""),[i,d]=Object(s.useState)(null),{id:h}=Object(l.h)(),{data:m,loading:u}=_e("tripRequests/".concat(h)),[O,p]=Object(s.useState)(!0),g=(null===m||void 0===m||m.driver,null===m||void 0===m?void 0:m.passenger),y=m?[{lat:parseFloat(m.fromLat),lng:parseFloat(m.fromLon)},{lat:parseFloat(m.toLat),lng:parseFloat(m.toLon)}]:[];Object(s.useEffect)((()=>{if(2===y.length&&window.google&&window.google.maps){(new window.google.maps.DirectionsService).route({origin:y[0],destination:y[1],travelMode:window.google.maps.TravelMode.DRIVING},((e,t)=>{t===window.google.maps.DirectionsStatus.OK&&O?d(e):console.error("Error fetching directions: ".concat(t),e)}))}return()=>p(!1)}),[y]);return Object(N.jsxs)(N.Fragment,{children:[u?Object(N.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:Object(N.jsx)(qe.a,{size:"large"})}):Object(N.jsxs)(Re.a,{defaultActiveKey:"3",children:[Object(N.jsx)(Ea,{tab:"Trip Details",children:Object(N.jsx)(x.a,{gutter:[24,0],children:Object(N.jsx)(o.a,{span:24,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsxs)("h6",{className:"font-semibold m-0",children:["Trip Request Details-                       ",null===m||void 0===m?void 0:m.id]}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},column:2,children:[Object(N.jsx)(M.b.Item,{label:"Start Location",span:1,children:null===m||void 0===m?void 0:m.from}),Object(N.jsx)(M.b.Item,{label:"End Location",span:1,children:null===m||void 0===m?void 0:m.to}),Object(N.jsxs)(M.b.Item,{label:"Distance",span:1,children:[null===m||void 0===m?void 0:m.distance," km"]}),Object(N.jsxs)(M.b.Item,{label:"Price",span:1,children:["$",null===m||void 0===m?void 0:m.estimatedPrice]}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:m&&Object(N.jsx)(Ue.a,{color:"Ended"===m.status?"darkgreen":"Active"===m.status?"darkorange":"Pending"===m.status?"darkred":"gray",children:m.status.toUpperCase()})}),Object(N.jsxs)(M.b.Item,{label:"Pick Up Time",span:1,children:["$",null===m||void 0===m?void 0:m.pickUpTime]})]})})})})},"3"),Object(N.jsx)(Ea,{tab:"Passenger Details",children:Object(N.jsxs)(x.a,{gutter:[24,0],children:[Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Passenger Details"}),className:"header-solid h-full card-profile-information",bodyStyle:{paddingTop:0,paddingBottom:16},children:Object(N.jsxs)(M.b,{style:{marginTop:"60px"},children:[Object(N.jsx)(M.b.Item,{label:"First Name",span:3,children:g&&g.firstName}),Object(N.jsx)(M.b.Item,{label:"Last Name",span:3,children:g&&g.lastName}),Object(N.jsx)(M.b.Item,{label:"Phone Number",span:3,children:g&&g.phoneNumber}),Object(N.jsx)(M.b.Item,{label:"Status",span:3,children:g&&Object(N.jsx)(Ue.a,{color:"Active"===g.status?"darkgreen":"Pending"===g.status?"darkorange":"Inactive"===g.status?"darkred":"gray",children:g.status.toUpperCase()})}),Object(N.jsx)(M.b.Item,{label:"Rating",span:3,children:g&&Object(N.jsx)(Be.a,{disabled:!0,value:5})})]})})}),Object(N.jsx)(o.a,{span:24,md:12,className:"mb-24",children:Object(N.jsx)(j.a,{bordered:!1,className:"header-solid h-full",title:Object(N.jsx)("h6",{className:"font-semibold m-0",children:"Passenger Documents"}),children:Object(N.jsx)(Re.a,{defaultActiveKey:"1",children:Object(N.jsx)(Ea,{tab:"Passenger Image",children:(v=null===g||void 0===g?void 0:g.passengerImage,f="Passenger Image",v?Object(N.jsx)("img",{src:"http://194.164.72.21:5001".concat(v),alt:f,style:{width:"100%",height:"400px",objectFit:"cover",marginBottom:"10px",cursor:"pointer"},onClick:()=>(e=>{n(e),c(!0)})("http://194.164.72.21:5001".concat(v))}):Object(N.jsx)(U.a,{shape:"square",icon:Object(N.jsx)(xe.a,{}),style:{width:"100%",height:"400px",marginBottom:"10px"}}))},"1")})})})]})},"2")]}),Object(N.jsx)(b.a,{visible:a,title:"Image Preview",footer:null,onCancel:()=>c(!1),children:Object(N.jsx)("img",{alt:"Preview",style:{width:"100%"},src:r})})]});var v,f};var La=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(l.c,{children:[Object(N.jsx)(l.a,{path:"/",exact:!0,component:va}),Object(N.jsx)(l.a,{path:"/login",exact:!0,component:va}),Object(N.jsxs)(Le,{children:[Object(N.jsx)(l.a,{exact:!0,path:"/dashboard",component:R}),Object(N.jsx)(l.a,{exact:!0,path:"/profile",component:ce}),Object(N.jsx)(l.a,{exact:!0,path:"/drivers",component:Ze}),Object(N.jsx)(l.a,{exact:!0,path:"/activeDrivers",component:et}),Object(N.jsx)(l.a,{exact:!0,path:"/driverDetails/:id",component:_t}),Object(N.jsx)(l.a,{exact:!0,path:"/passengers",component:rt}),Object(N.jsx)(l.a,{exact:!0,path:"/trips",component:lt}),Object(N.jsx)(l.a,{exact:!0,path:"/tripRequests",component:Ta}),Object(N.jsx)(l.a,{exact:!0,path:"/companies",component:mt}),Object(N.jsx)(l.a,{exact:!0,path:"/reservations",component:Ot}),Object(N.jsx)(l.a,{exact:!0,path:"/vehicleTypes",component:kt}),Object(N.jsx)(l.a,{exact:!0,path:"/initialPrices",component:Ft}),Object(N.jsx)(l.a,{exact:!0,path:"/searchRadiuses",component:Ut}),Object(N.jsx)(l.a,{exact:!0,path:"/transactions",component:Et}),Object(N.jsx)(l.a,{exact:!0,path:"/companyDetails/:id",component:sa}),Object(N.jsx)(l.a,{exact:!0,path:"/dispatch",component:Pa}),Object(N.jsx)(l.a,{exact:!0,path:"/vehicles",component:vt}),Object(N.jsx)(l.a,{exact:!0,path:"/passengerDetails/:id",component:Jt}),Object(N.jsx)(l.a,{exact:!0,path:"/tripDetails/:id",component:Sa}),Object(N.jsx)(l.a,{exact:!0,path:"/tripRequestDetails/:id",component:Aa}),Object(N.jsx)(l.a,{exact:!0,path:"/reservationDetails/:id",component:ka}),Object(N.jsx)(l.a,{exact:!0,path:"/vehicleDetails/:id",component:$t}),Object(N.jsx)(l.a,{exact:!0,path:"/users",component:oa}),Object(N.jsx)(l.a,{exact:!0,path:"/roles",component:ua}),Object(N.jsx)(l.a,{exact:!0,path:"/permissions",component:ba}),Object(N.jsx)(l.a,{exact:!0,path:"/profile-update",component:we})]})]})})};r.a.render(Object(N.jsx)(n.a,{basename:"/kms",children:Object(N.jsx)(La,{})}),document.getElementById("root"))}},[[468,1,2]]]);
//# sourceMappingURL=main.bc2c8a97.chunk.js.map